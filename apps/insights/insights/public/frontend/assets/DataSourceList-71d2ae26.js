import{I as B}from"./IndicatorIcon-7b530cb8.js";import{L as S}from"./ListView-7e5cf52e.js";import{N as V}from"./NewDialogWithTypes-fb9c228f.js";import{P as x}from"./PageBreadcrumbs-e38fbd0a.js";import{_ as $,a as U,b as k}from"./PostgreSQLForm-adfbeb34.js";import{f as b,M as v,G as C,H as i,v as D,L as t,r as d,Y as N,aB as P,x as L,N as w,z as p,F as M,aI as I,aJ as f,a5 as g,O as _,A as T}from"./frappe-ui-24524c82.js";import{u as F}from"./dataSourceStore-3ba6c3b5.js";import{u as z}from"./index-61e7aa99.js";import{P as Q}from"./plus-32532d21.js";import"./index-45270e13.js";import"./vuedraggable.umd-a5e26eb5.js";import"./Form-5f5c15e9.js";const R={__name:"ConnectMariaDBDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:a}){const c=m,s=b({get:()=>c.show,set:l=>a("update:show",l)});return(l,e)=>{const u=v("Dialog");return D(),C(u,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),options:{title:"Connect to MySQL"}},{"body-content":i(()=>[t($,{onSubmit:e[0]||(e[0]=r=>s.value=!1)})]),_:1},8,["modelValue"])}}},j=R,A={__name:"ConnectPostgreDBDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:a}){const c=m,s=b({get:()=>c.show,set:l=>a("update:show",l)});return(l,e)=>{const u=v("Dialog");return D(),C(u,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),options:{title:"Connect to PostgreDB"}},{"body-content":i(()=>[t(U,{onSubmit:e[0]||(e[0]=r=>s.value=!1)})]),_:1},8,["modelValue"])}}},E=A,G={__name:"UploadCSVFileDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:a}){const c=m,s=b({get:()=>c.show,set:l=>a("update:show",l)});return(l,e)=>{const u=v("Dialog");return D(),C(u,{options:{title:"CSV Import"},modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r)},{"body-content":i(()=>[t(k,{onSubmit:e[0]||(e[0]=r=>s.value=!1)})]),_:1},8,["modelValue"])}}},H=G,J={class:"sticky top-0 z-10 flex items-center justify-between bg-white px-5 py-2.5"},O=w("div",{class:"text-xl font-medium"},"No data sources.",-1),W=w("div",{class:"mt-1 text-base text-gray-600"},"No data sources to display.",-1),re={__name:"DataSourceList",setup(m){const a=d(!1);N().hash=="#new"&&(a.value=!0);const s=F();P();const l=d(!1),e=d(!1),u=d(!1),r=d([{label:"MariaDB",description:"Connect to a MariaDB database",icon:"database",onClick:()=>{a.value=!1,l.value=!0}},{label:"PostgreSQL",description:"Connect to a PostgreSQL database",icon:"database",onClick:()=>{a.value=!1,e.value=!0}},{label:"CSV",description:"Upload a CSV file",icon:"file",onClick:()=>{a.value=!1,u.value=!0}}]),y=d({title:"Data Sources"});return z(y),(Y,n)=>{const h=v("Button");return D(),L(M,null,[w("header",J,[t(x,{class:"h-7",items:[{label:"Data Sources"}]}),w("div",null,[t(h,{label:"New Data Source",variant:"solid",onClick:n[0]||(n[0]=o=>a.value=!0)},{prefix:i(()=>[t(p(Q),{class:"w-4"})]),_:1})])]),t(S,{columns:[{label:"Title",name:"title"},{label:"Status",name:"status"},{label:"Database Type",name:"database_type"},{label:"Created",name:"created_from_now"}],rows:p(s).list},{"list-row":i(({row:o})=>[t(p(I),{as:"router-link",row:o,to:{name:"DataSource",params:{name:o.name}}},{default:i(()=>[t(p(f),null,{default:i(()=>[g(_(o.title),1)]),_:2},1024),t(p(f),{class:"space-x-2"},{default:i(()=>[t(B,{class:T(o.status=="Inactive"?"text-gray-500":"text-green-500")},null,8,["class"]),w("span",null,_(o.status),1)]),_:2},1024),t(p(f),null,{default:i(()=>[g(_(o.database_type),1)]),_:2},1024),t(p(f),null,{default:i(()=>[g(_(o.created_from_now),1)]),_:2},1024)]),_:2},1032,["row","to"])]),emptyState:i(()=>[O,W,t(h,{class:"mt-4",label:"New Data Source",variant:"solid",onClick:n[1]||(n[1]=o=>a.value=!0)})]),_:1},8,["rows"]),t(V,{show:a.value,"onUpdate:show":n[2]||(n[2]=o=>a.value=o),title:"Select Source Type",types:r.value},null,8,["show","types"]),t(j,{show:l.value,"onUpdate:show":n[3]||(n[3]=o=>l.value=o)},null,8,["show"]),t(E,{show:e.value,"onUpdate:show":n[4]||(n[4]=o=>e.value=o)},null,8,["show"]),t(H,{show:u.value,"onUpdate:show":n[5]||(n[5]=o=>u.value=o)},null,8,["show"])],64)}}};export{re as default};
