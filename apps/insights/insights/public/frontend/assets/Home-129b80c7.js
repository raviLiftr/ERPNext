var L=Object.defineProperty,M=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var F=(a,t,o)=>t in a?L(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,C=(a,t)=>{for(var o in t||(t={}))q.call(t,o)&&F(a,o,t[o]);if(S)for(var o of S(t))H.call(t,o)&&F(a,o,t[o]);return a},j=(a,t)=>M(a,P(t));import{s as z}from"./index-61e7aa99.js";import{u as O}from"./index-45270e13.js";import{_ as B,f as x,v as n,x as l,N as e,O as m,aB as R,r as D,a as Q,M as f,z as w,L as i,H as y,a5 as b,B as g,G as N,F as $,i as Y,P as A,E as V,A as E}from"./frappe-ui-24524c82.js";const G="/assets/insights/frontend/assets/add-data-source-bc439877.mp4",U="/assets/insights/frontend/assets/build-first-query-266028f1.mp4",T="/assets/insights/frontend/assets/create-first-dashboard-191e5576.mp4";const W={class:"relative flex items-center justify-center rounded-full"},J=["height","width"],K=["stroke-width","r","cx","cy"],X=["stroke-width","stroke-dasharray","stroke-dashoffset","r","cx","cy"],Z={class:"absolute font-bold"},ee={__name:"ProgressRing",props:{progress:{type:Number,default:0},progressLabel:{type:String,default:""},radius:{type:Number,default:26},stroke:{type:Number,default:4}},setup(a){const t=a,o=x(()=>t.radius-t.stroke*2),s=x(()=>o.value*2*Math.PI),d=x(()=>s.value-t.progress/100*s.value);return(c,r)=>(n(),l("div",W,[(n(),l("svg",{height:a.radius*2,width:a.radius*2},[e("circle",{class:"text-gray-300",stroke:"currentColor",fill:"transparent","stroke-width":a.stroke,r:o.value,cx:a.radius,cy:a.radius},null,8,K),e("circle",{class:"text-gray-900","stroke-linecap":"round",stroke:"currentColor",fill:"transparent","stroke-width":a.stroke,"stroke-dasharray":s.value,"stroke-dashoffset":d.value,r:o.value,cx:a.radius,cy:a.radius},null,8,X)],8,J)),e("span",Z,m(a.progressLabel),1)]))}},te=B(ee,[["__scopeId","data-v-eccbdac8"]]),se={key:0},oe={class:"flex items-center justify-between rounded bg-gray-50 px-4 py-3"},re={class:"flex items-center space-x-2"},ae=e("div",null,[e("div",{class:"text-lg font-bold text-gray-900"},"Get Started with Insights"),e("div",{class:"mt-1 text-gray-600"}," Follow through a couple of steps to get yourself familiar with Insights. ")],-1),ne={class:"flex justify-end space-x-2"},le={class:"flex flex-col items-center justify-center space-y-4"},ie={autoplay:"",loop:"",muted:"",class:"h-full w-full"},ce={key:0,src:G,type:"video/mp4"},de={key:1,src:U,type:"video/mp4"},ue={key:2,src:T,type:"video/mp4"},_e={class:""},he={class:"flex w-full justify-end space-x-2"},pe={__name:"HomeOnboarding",setup(a){const t=R(),o=D(!1),s=Q([{title:"Connect Your Data",name:"connect_data",description:"Insights needs access to your data to start analyzing it. Don't worry, we do not store your data.",primary_button:{label:"Create Data Source",action:()=>t.push("/data-source#new")}},{title:"Build Your First Query",name:"build_query",description:"Let's introduce you to the query builder, where you'll be spending most of your time building queries.",primary_button:{label:"Build Query",action:()=>t.push("/query#new")}},{title:"Create Your First Dashboard",name:"create_dashboard",description:"Organize your visualizations meaningfully by creating a dashboard for you and your team.",primary_button:{label:"Create Dashboard",action:()=>t.push("/dashboard#new")}},{title:"All set! ðŸŽ‰",name:"all_set",description:"You are all set to use Insights. We hope you enjoy using it!",primary_button:{label:"Close",action:()=>_()}}]),d=s.reduce((v,h)=>({[h.name]:!1}),{}),c=O("insights:onboardingStatus",d),r=x(()=>s.findIndex(v=>!c.value[v.name]));function u(){c.value=j(C({},c.value),{[s[r.value].name]:!0})}function _(){c.value=j(C({},c.value),{all_set:!0}),o.value=!1}return(v,h)=>{const p=f("Button"),k=f("Dialog");return n(),l($,null,[!w(c).all_set&&r.value<s.length?(n(),l("div",se,[e("div",oe,[e("div",re,[i(te,{class:"text-gray-900",progress:r.value/s.length*100,progressLabel:r.value},null,8,["progress","progressLabel"]),ae]),e("div",ne,[i(p,{variant:"outline",iconLeft:"x",onClick:_},{default:y(()=>[b(" Skip ")]),_:1}),i(p,{variant:"solid",iconRight:"arrow-right",onClick:h[0]||(h[0]=I=>o.value=!0)},{default:y(()=>[b(m(s.length-r.value)+" step(s) left ",1)]),_:1})])])])):g("",!0),!w(c).all_set&&r.value<s.length?(n(),N(k,{key:1,modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=I=>o.value=I),options:{title:s[r.value].title,size:"2xl"}},{"body-content":y(()=>[e("div",le,[s[r.value].name!=="all_set"?(n(),l("div",{key:s[r.value].name,class:"flex w-full items-center justify-center overflow-hidden rounded shadow-md"},[e("video",ie,[s[r.value].name==="connect_data"?(n(),l("source",ce)):g("",!0),s[r.value].name==="build_query"?(n(),l("source",de)):g("",!0),s[r.value].name==="create_dashboard"?(n(),l("source",ue)):g("",!0),b(" Your browser does not support the video tag. ")])])):g("",!0),e("div",_e,m(s[r.value].description),1),e("div",he,[s[r.value].name!=="all_set"?(n(),N(p,{key:0,variant:"ghost",onClick:u},{default:y(()=>[b(" Skip ")]),_:1})):g("",!0),i(p,{variant:"solid",onClick:s[r.value].primary_button.action},{default:y(()=>[b(m(s[r.value].primary_button.label),1)]),_:1},8,["onClick"])])])]),_:1},8,["modelValue","options"])):g("",!0)],64)}}},ge={class:"flex items-center space-x-2"},me={class:"rounded bg-gray-100 p-1"},ve=e("div",{class:"text-lg"},"Pinned Charts",-1),ye={class:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},fe={class:"rounded p-1"},be=e("div",{class:"text-lg text-gray-600"},"Select a chart",-1),xe=e("div",{class:"flex flex-col items-center justify-center space-y-4 p-6"},[e("div",{class:"h-72 w-full rounded bg-gray-200"}),e("div",{class:""},"Coming soon!")],-1),we={__name:"HomePinnedItems",setup(a){const t=D(!1);return(o,s)=>{const d=f("FeatherIcon"),c=f("Dialog");return n(),l($,null,[e("div",null,[e("div",ge,[e("div",me,[i(d,{name:"bookmark",class:"h-4 w-4"})]),ve]),e("div",ye,[e("div",{class:"col-span-1 flex cursor-pointer items-center space-x-2 rounded border border-dashed bg-gray-50 p-4 transition-all hover:border-gray-400",onClick:s[0]||(s[0]=r=>t.value=!0)},[e("div",fe,[i(d,{name:"plus",class:"h-4 w-4 text-gray-600"})]),be])])]),i(c,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=r=>t.value=r)},{body:y(()=>[xe]),_:1},8,["modelValue"])],64)}}},$e={},ke={class:"flex items-center space-x-2"},Ce={class:"rounded bg-gray-100 p-1"},je=e("div",{class:"text-lg"},"Quick Actions",-1),De={class:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Ie=e("div",{class:"text-lg font-medium text-gray-900"},"Connect Data Source",-1),Se={class:"rounded bg-gray-100 p-1"},Fe=e("div",{class:"text-lg font-medium text-gray-900"},"Create a Query",-1),Ne={class:"rounded bg-gray-100 p-1"},Ve=e("div",{class:"text-lg font-medium text-gray-900"},"Create a Dashboard",-1),Be={class:"rounded bg-gray-100 p-1"};function Re(a,t){const o=f("FeatherIcon");return n(),l("div",null,[e("div",ke,[e("div",Ce,[i(o,{name:"arrow-up-right",class:"h-4 w-4"})]),je]),e("div",De,[e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:t[0]||(t[0]=s=>a.$router.push("/data-source#new"))},[Ie,e("div",Se,[i(o,{name:"plus",class:"h-4 w-4 text-gray-900"})])]),e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:t[1]||(t[1]=s=>a.$router.push("/query#new"))},[Fe,e("div",Ne,[i(o,{name:"plus",class:"h-4 w-4 text-gray-900"})])]),e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:t[2]||(t[2]=s=>a.$router.push("/dashboard#new"))},[Ve,e("div",Be,[i(o,{name:"plus",class:"h-4 w-4 text-gray-900"})])])])])}const Ye=B($e,[["render",Re]]),Le={class:"flex h-full flex-col overflow-hidden"},Me={class:"flex items-center space-x-2"},Pe={class:"rounded bg-gray-100 p-1"},qe=e("div",{class:"text-lg"},"Recently Viewed",-1),He={class:"mt-3 flex-1 overflow-hidden p-1"},ze={key:0,class:"relative flex flex-1 flex-col overflow-y-scroll"},Oe=e("li",{class:"border-b"},null,-1),Qe=["onClick"],Ae={key:1,class:"flex h-full w-full items-center justify-center"},Ee=e("div",{class:"flex flex-col items-center space-y-2"},[e("div",{class:"text-lg text-gray-600"},"No recent records"),e("div",{class:"text-sm text-gray-600"}," You can view your recently viewed records here ")],-1),Ge=[Ee],Ue={__name:"HomeRecentRecords",setup(a){const t=Y("$dayjs"),o=D([]);A("insights.api.home.get_last_viewed_records").then(c=>{o.value=c.map(r=>{const u=r.reference_doctype.replace("Insights ","");return u.replace(" ",""),{title:r.title,type:u,name:r.reference_name,notebook:r.notebook,last_viewed:t(r.creation).format("MMM DD, YYYY hh:mm A"),last_viewed_from_now:`Last viewed ${t(r.creation).fromNow()}`}})});const s=R();function d(c){const{type:r,notebook:u,name:_}=c;switch(r){case"Notebook Page":return s.push(`/notebook/${u}/${_}`);case"Dashboard":return s.push(`/dashboard/${_}`);case"Query":return s.push(`/query/build/${_}`)}}return(c,r)=>{var _;const u=f("FeatherIcon");return n(),l("div",Le,[e("div",Me,[e("div",Pe,[i(u,{name:"clock",class:"h-4 w-4"})]),qe]),e("div",He,[((_=o.value)==null?void 0:_.length)>0?(n(),l("ul",ze,[Oe,(n(!0),l($,null,V(o.value,(v,h)=>(n(),l("li",{key:h,class:"flex cursor-pointer items-center gap-4 border-b transition-colors hover:bg-gray-50",onClick:p=>d(v)},[e("div",null,[i(u,{name:"arrow-up-right",class:"h-4 w-4 text-gray-600"})]),(n(),l($,null,V(["title","type","last_viewed_from_now"],(p,k)=>e("div",{class:E(["overflow-hidden text-ellipsis whitespace-nowrap py-3",[k===0?"w-[30%] ":"flex-1 text-gray-600"]])},[e("span",null,m(v[p]),1)],2)),64))],8,Qe))),128))])):(n(),l("div",Ae,Ge))])])}}},Te={class:"flex flex-1 flex-col space-y-8 overflow-hidden bg-white p-6"},We={class:"space-y-2"},Je={class:"text-3xl font-bold text-gray-900"},Ke={class:"text-lg text-gray-600"},st={__name:"Home",setup(a){const t=z(),s=Y("$dayjs")().format("dddd, D MMMM");return document.title="Home | Frappe Insights",(d,c)=>(n(),l("div",Te,[e("div",We,[e("div",Je," Hello, "+m(w(t).user.first_name)+" ðŸ‘‹ ",1),e("div",Ke,m(w(s)),1)]),i(pe),i(Ye),i(we),i(Ue)]))}};export{st as default};
