import{L as p,_ as m}from"./BaseChart-3eb553bf.js";import{B as u}from"./index-61e7aa99.js";import{g as f}from"./colors-b352916e.js";import{i as d,f as c,v as x,G as h}from"./frappe-ui-24524c82.js";function y(i,o,n){var t;const l=d("$utils");if(!o||!o.length)return{};const s=n.referenceLine?{data:[{name:n.referenceLine,type:n.referenceLine.toLowerCase(),label:{position:"middle",formatter:"{b}: {c}"}}]}:{},r=(t=n.colors)!=null&&t.length?n.colors:f();return{animation:!1,color:r,grid:{top:30,bottom:35,left:20,right:30,containLabel:!0},xAxis:{axisType:"xAxis",type:"category",axisTick:!1,data:i},yAxis:o.map(e=>({name:n.splitYAxis?e.label:void 0,type:"value",splitLine:{lineStyle:{type:"dashed"}},axisLabel:{formatter:(a,g)=>l.getShortNumber(a,1)}})),series:o.map((e,a)=>({name:e.label,data:e.data,type:"line",yAxisIndex:n.splitYAxis?a:0,color:e.options.color,smooth:e.options.smoothLines||n.smoothLines?.4:!1,smoothMonotone:"x",showSymbol:e.options.showPoints||n.showPoints,markLine:s,areaStyle:e.options.showArea||n.showArea?{color:new p(0,0,0,1,[{offset:0,color:r[a]},{offset:1,color:"#fff"}]),opacity:.2}:void 0})),legend:{icon:"circle",type:"scroll",bottom:"bottom",pageIconSize:12,pageIconColor:"#64748B",pageIconInactiveColor:"#C0CCDA",pageFormatter:"{current}",pageButtonItemGap:2},tooltip:{trigger:"axis",confine:!0,appendToBody:!1,valueFormatter:e=>isNaN(e)?e:u(e)}}}const C={__name:"Line",props:{data:{type:Object,required:!0},options:{type:Object,required:!0}},setup(i){const o=i,n=c(()=>{var r;return!((r=o.data)!=null&&r.length)||!o.options.xAxis?[]:o.data.map(t=>t[o.options.xAxis])}),l=c(()=>{var r;return!((r=o.data)!=null&&r.length)||!o.options.yAxis?[]:o.options.yAxis.filter(t=>o.data[0].hasOwnProperty(t==null?void 0:t.column)||o.data[0].hasOwnProperty(t)).map(t=>{const e=t.column||t;return{label:e,data:o.data.map(a=>a[e]),options:t}})}),s=c(()=>y(n.value,l.value,o.options));return(r,t)=>(x(),h(m,{title:o.options.title,options:s.value},null,8,["title","options"]))}};export{C as default};
