import{F as A,A as x,W as m}from"./index-61e7aa99.js";import{C as E}from"./Color-a2235caf.js";import{_ as N}from"./SeriesOption-32eee6e8.js";import{f as i,M as _,v as d,x as p,L as s,N as a,H as V,G as O,a5 as F,B as k,F as M,E as S}from"./frappe-ui-24524c82.js";import"./colors-b352916e.js";import"./index-45270e13.js";import"./Tabs-2e22988b.js";import"./UsePopover-9747e78c.js";const R={class:"space-y-4"},T=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"X Axis",-1),Y={class:"relative max-h-[15rem] space-y-2 overflow-hidden overflow-y-scroll"},P={class:"sticky top-0 -mt-1 flex items-center justify-between bg-white"},$=a("span",{class:"block text-sm leading-4 text-gray-700"},"Y Axis",-1),j={class:"flex items-center justify-end"},D={class:"flex w-full flex-col space-y-2"},q={key:0,class:"space-y-2 text-gray-600"},G=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Reference Line",-1),H={class:"space-y-2 text-gray-600"},I={class:"space-y-2 text-gray-600"},W={class:"space-y-2 text-gray-600"},oe={__name:"LineOptions",props:{modelValue:{type:Object,required:!0},columns:{type:Array,required:!0}},emits:["update:modelValue"],setup(w,{emit:C}){const v=w,t=i({get:()=>v.modelValue,set:o=>C("update:modelValue",o)}),h=i(()=>{var o;return(o=v.columns)==null?void 0:o.filter(e=>!A.NUMBER.includes(e.type)).map(e=>({label:e.label,value:e.label,description:e.type}))}),c=i(()=>{var o;return(o=v.columns)==null?void 0:o.filter(e=>A.NUMBER.includes(e.type)).map(e=>({label:e.label,value:e.label,description:e.type}))}),U=i(()=>{var o,e;return(e=(o=t.value)==null?void 0:o.yAxis)==null?void 0:e.every(u=>typeof u=="string")});function L(){return t.value.yAxis.map(o=>({column:o}))}const n=i({get:()=>U.value?L():t.value.yAxis,set:o=>t.value.yAxis=o}),B=i(()=>{var o,e,u;return((o=n.value)==null?void 0:o.length)&&((e=n.value)==null?void 0:e.length)===((u=c.value)==null?void 0:u.length)});return(o,e)=>{var f,g,b;const u=_("FormControl"),y=_("Button");return d(),p("div",R,[s(u,{type:"text",label:"Title",class:"w-full",modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.title=l),placeholder:"Title"},null,8,["modelValue"]),a("div",null,[T,s(x,{modelValue:t.value.xAxis,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.xAxis=l),returnValue:!0,options:h.value},null,8,["modelValue","options"])]),a("div",Y,[a("div",P,[$,s(x,{modelValue:(f=n.value)==null?void 0:f.map(l=>l.column),multiple:!0,returnValue:!0,options:c.value,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l.map(r=>({column:r})))},{target:V(({togglePopover:l})=>[s(y,{variant:"ghost",icon:"plus",onClick:l},null,8,["onClick"])]),footer:V(()=>[a("div",j,[B.value?k("",!0):(d(),O(y,{key:0,variant:"subtle",onClick:e[2]||(e[2]=l=>n.value=c.value.map(r=>({column:r.value})))},{default:V(()=>[F(" Select All ")]),_:1}))])]),_:1},8,["modelValue","options"])]),a("div",D,[(d(!0),p(M,null,S(n.value,(l,r)=>(d(),p("div",{class:"flex flex-1",key:r},[s(N,{seriesType:"line",modelValue:l,onRemove:X=>n.value.splice(n.value.indexOf(l),1)},null,8,["modelValue","onRemove"])]))),128))])]),((g=n.value)==null?void 0:g.length)==2?(d(),p("div",q,[s(m,{modelValue:t.value.splitYAxis,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.splitYAxis=l),label:"Split Y Axis"},null,8,["modelValue"])])):k("",!0),a("div",null,[G,s(x,{modelValue:t.value.referenceLine,options:["Average","Median","Min","Max"],"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.referenceLine=l.value)},null,8,["modelValue"])]),s(E,{label:"Colors",modelValue:t.value.colors,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.colors=l),max:((b=t.value.yAxis)==null?void 0:b.length)||1,multiple:""},null,8,["modelValue","max"]),a("div",H,[s(m,{modelValue:t.value.smoothLines,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.smoothLines=l),label:"Enable Curved Lines"},null,8,["modelValue"])]),a("div",I,[s(m,{modelValue:t.value.showPoints,"onUpdate:modelValue":e[8]||(e[8]=l=>t.value.showPoints=l),label:"Show Data Points"},null,8,["modelValue"])]),a("div",W,[s(m,{modelValue:t.value.showArea,"onUpdate:modelValue":e[9]||(e[9]=l=>t.value.showArea=l),label:"Show Area"},null,8,["modelValue"])])])}}};export{oe as default};
