var w=(f,c,i)=>new Promise((a,d)=>{var r=s=>{try{u(i.next(s))}catch(o){d(o)}},k=s=>{try{u(i.throw(s))}catch(o){d(o)}},u=s=>s.done?a(s.value):Promise.resolve(s.value).then(r,k);u((i=i.apply(f,c)).next())});import{L as D}from"./ListView-7e5cf52e.js";import{P}from"./PageBreadcrumbs-e38fbd0a.js";import{u as C}from"./useNotebook-737aeb90.js";import{u as B}from"./useNotebooks-212680cb.js";import{u as V}from"./index-61e7aa99.js";import{aB as L,r as h,M as _,x as F,N as m,L as e,z as n,H as t,F as I,v as z,aI as M,aJ as g,O as N,a5 as b}from"./frappe-ui-24524c82.js";import{P as S}from"./plus-32532d21.js";import"./index-45270e13.js";const T={class:"sticky top-0 z-10 flex items-center justify-between bg-white px-5 py-2.5"},R={class:"space-x-2.5"},$={class:"ml-3"},j=m("div",{class:"text-xl font-medium"},"No pages.",-1),A=m("div",{class:"mt-1 text-base text-gray-600"},"No pages to display.",-1),E=m("p",{class:"text-base text-gray-600"},"Are you sure you want to delete this notebook?",-1),W={__name:"Notebook",props:{notebook:String},setup(f){const c=f,i=L(),a=C(c.notebook);a.reload();function d(){return w(this,null,function*(){const s=yield a.createPage(c.notebook);i.push({name:"NotebookPage",params:{notebook:c.notebook,name:s}})})}const r=h(!1);function k(){return w(this,null,function*(){yield a.deleteNotebook(),r.value=!1,yield B().reload(),i.push({name:"NotebookList"})})}const u=h({title:"Notebook"});return V(u),(s,o)=>{const p=_("Button"),v=_("Dropdown"),x=_("FeatherIcon"),y=_("Dialog");return z(),F(I,null,[m("header",T,[e(P,{class:"h-7",items:[{label:"Notebooks",route:{path:"/notebook"}},{label:n(a).doc.title||n(a).doc.name}]},null,8,["items"]),m("div",R,[e(p,{label:"New Page",variant:"solid",onClick:o[0]||(o[0]=()=>d())},{prefix:t(()=>[e(n(S),{class:"w-4"})]),_:1})])]),e(D,{columns:[{label:"Title",name:"title"},{label:"Created",name:"created_from_now"},{label:"Modified",name:"modified_from_now"}],rows:n(a).pages},{actions:t(()=>[e(v,{placement:"left",button:{icon:"more-horizontal",variant:"ghost"},options:[{label:"Delete",icon:"trash-2",onClick:()=>r.value=!0}]},null,8,["options"])]),"list-row":t(({row:l})=>[e(n(M),{as:"router-link",row:l,to:{name:"NotebookPage",params:{notebook:n(a).doc.name,name:l.name}}},{default:t(()=>[e(n(g),null,{default:t(()=>[e(x,{name:"file-text",class:"h-4 w-4 text-gray-600"}),m("span",$,N(l.title),1)]),_:2},1024),e(n(g),null,{default:t(()=>[b(N(l.created_from_now),1)]),_:2},1024),e(n(g),null,{default:t(()=>[b(N(l.modified_from_now),1)]),_:2},1024)]),_:2},1032,["row","to"])]),emptyState:t(()=>[j,A,e(p,{class:"mt-4",label:"New Page",variant:"solid",onClick:o[1]||(o[1]=()=>d())})]),_:1},8,["rows"]),e(y,{options:{title:"Delete Notebook",icon:{name:"trash",variant:"solid",theme:"red"}},modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=l=>r.value=l),dismissable:!0},{"body-content":t(()=>[E]),actions:t(()=>[e(p,{variant:"outline",onClick:o[2]||(o[2]=l=>r.value=!1)},{default:t(()=>[b("Cancel")]),_:1}),e(p,{variant:"solid",theme:"red",onClick:k,loading:n(a).deleting},{default:t(()=>[b(" Yes ")]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}};export{W as default};
