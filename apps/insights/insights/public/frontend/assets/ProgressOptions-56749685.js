import{F as y,W as x}from"./index-61e7aa99.js";import{_}from"./Tabs-2e22988b.js";import{f,M as p,v as c,G as V,H as v,N as a,L as s,y as h,a5 as T,x as k,B as g}from"./frappe-ui-24524c82.js";const C=["value","placeholder","onFocus"],w={class:"my-2 flex select-none flex-col space-y-3 rounded border bg-white p-3 text-base shadow-md"},$={class:"flex w-full justify-end"},B={__name:"InputWithTabs",props:["placeholder","tabs","value"],emits:["tab-change"],setup(m){const r=m,i=f(()=>Object.keys(r.tabs).map(o=>({label:o,active:r.tabs[o]})));function e(){var o;return((o=r.value)==null?void 0:o.label)||r.value}return(o,u)=>{const l=p("Button"),b=p("Popover");return c(),V(b,{class:"flex w-full [&>div:first-child]:w-full",hideOnBlur:!1},{target:v(({togglePopover:d})=>[a("input",{readonly:"",type:"text",value:e(),placeholder:m.placeholder,onFocus:n=>d(),class:"form-input block h-7 w-full cursor-text select-none rounded border-gray-400 text-sm placeholder-gray-500"},null,40,C)]),body:v(({togglePopover:d})=>[a("div",w,[s(_,{tabs:i.value,onSwitch:u[0]||(u[0]=n=>o.$emit("tab-change",n.label))},null,8,["tabs"]),h(o.$slots,"inputs"),a("div",$,[s(l,{variant:"solid",onClick:n=>d()},{default:v(()=>[T(" Done ")]),_:2},1032,["onClick"])])])]),_:3})}}},U={class:"space-y-4"},E=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Progress",-1),N=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Target",-1),F={class:"w-full"},P=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Prefix",-1),S=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Suffix",-1),O=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"Decimals",-1),D={__name:"ProgressOptions",props:{modelValue:{type:Object,required:!0},columns:{type:Array,required:!0}},emits:["update:modelValue"],setup(m,{emit:r}){const i=m,e=f({get:()=>i.modelValue,set:u=>r("update:modelValue",u)}),o=f(()=>{var u;return(u=i.columns)==null?void 0:u.filter(l=>y.NUMBER.includes(l.type)).map(l=>({label:l.label,value:l.label,description:l.type}))});return e.value.targetType||(e.value.targetType="Column"),(u,l)=>{const b=p("FormControl"),d=p("Autocomplete"),n=p("Input");return c(),k("div",U,[s(b,{type:"text",label:"Title",class:"w-full",modelValue:e.value.title,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.title=t),placeholder:"Title"},null,8,["modelValue"]),a("div",null,[E,s(d,{modelValue:e.value.progress,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.progress=t),returnValue:!0,options:o.value},null,8,["modelValue","options"])]),a("div",null,[N,s(B,{value:e.value.targetType,tabs:{Column:e.value.targetType==="Column",Value:e.value.targetType==="Value"},onTabChange:l[4]||(l[4]=t=>e.value.targetType=t)},{inputs:v(()=>[a("div",F,[e.value.targetType==="Column"?(c(),V(d,{key:0,modelValue:e.value.target,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.target=t),returnValue:!0,placeholder:"Select a column...",options:o.value},null,8,["modelValue","options"])):g("",!0),e.value.targetType==="Value"?(c(),V(n,{key:1,modelValue:e.value.target,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.target=t),placeholder:"Enter a value...",type:"number"},null,8,["modelValue"])):g("",!0)])]),_:1},8,["value","tabs"])]),a("div",null,[P,s(n,{type:"text",modelValue:e.value.prefix,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.prefix=t),placeholder:"Enter a prefix..."},null,8,["modelValue"])]),a("div",null,[S,s(n,{type:"text",modelValue:e.value.suffix,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.suffix=t),placeholder:"Enter a suffix..."},null,8,["modelValue"])]),a("div",null,[O,s(n,{type:"number",modelValue:e.value.decimals,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.decimals=t),placeholder:"Enter a number..."},null,8,["modelValue"])]),s(x,{modelValue:e.value.shorten,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.shorten=t),label:"Shorten Numbers"},null,8,["modelValue"])])}}};export{D as default};
