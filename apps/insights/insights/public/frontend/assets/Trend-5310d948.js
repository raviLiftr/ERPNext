import{_ as y}from"./BaseChart-3eb553bf.js";import{i as g,f as n,M as b,v,x as _,N as i,O as o,L,G as V,B as h,A as k}from"./frappe-ui-24524c82.js";import"./index-61e7aa99.js";const B={key:0,class:"flex h-full w-full items-center justify-center overflow-hidden py-4 px-6"},C={class:"flex w-full justify-between space-x-4"},N={class:"overflow-hidden text-ellipsis whitespace-nowrap font-medium leading-6 text-gray-600"},j={class:"flex items-baseline space-x-2"},O={class:"flex-shrink-0 overflow-hidden text-ellipsis whitespace-nowrap text-[28px] font-medium leading-10"},$={class:"flex-shrink-0 overflow-hidden text-ellipsis whitespace-nowrap text-[14px] text-sm leading-5 text-gray-600"},q={__name:"Trend",props:{data:{type:Object,required:!0},options:{type:Object,required:!0}},setup(s){const t=s,p=g("$utils"),x=n(()=>{var a;return!((a=t.data)!=null&&a.length)||!t.options.dateColumn?void 0:t.data.map(u=>u[t.options.dateColumn])}),l=n(()=>{var a;return!((a=t.data)!=null&&a.length)||!t.options.valueColumn?void 0:t.data.map(u=>u[t.options.valueColumn])}),c=n(()=>{var e;if((e=l.value)!=null&&e.length)return l.value[l.value.length-1]}),r=n(()=>{var e;if((e=l.value)!=null&&e.length)return l.value[l.value.length-2]}),f=n(()=>{if(!(!c.value||!r.value))return c.value-r.value}),m=n(()=>{if(!(!c.value||!r.value))return f.value/r.value*100}),d=(e,a=0)=>!t.options.hasOwnProperty("shorten")||t.options.shorten?p.getShortNumber(e,a):p.formatNumber(e,a),w=n(()=>({animation:!1,grid:{top:0,left:0,right:0,bottom:0},xAxis:{show:!1,type:"category",data:x.value,boundaryGap:!1,splitLine:!1,axisLabel:!1},yAxis:{show:!1,type:"value",splitLine:!1,axisLabel:!1},series:[{data:l.value,type:"line",showSymbol:!1,areaStyle:{opacity:.1}}]}));return(e,a)=>{const u=b("Badge");return l.value?(v(),_("div",B,[i("div",{class:k(["mx-auto flex w-full min-w-40 max-w-[20rem] flex-col overflow-y-auto",s.options.showTrendLine?"h-[10rem]":"h-fit"])},[i("div",C,[i("div",N,o(s.options.title),1),L(u,{theme:f.value>0?"green":"red",label:f.value>0?`+${d(m.value,2)}%`:`${d(m.value,2)}%`,size:"md"},null,8,["theme","label"])]),i("div",j,[i("div",O,o(s.options.prefix)+o(d(c.value,2))+o(s.options.suffix),1),i("div",$," from "+o(s.options.prefix)+o(d(r.value,2))+o(s.options.suffix),1)]),s.options.showTrendLine?(v(),V(y,{key:0,class:"!px-0",options:w.value},null,8,["options"])):h("",!0)],2)])):h("",!0)}}};export{q as default};
