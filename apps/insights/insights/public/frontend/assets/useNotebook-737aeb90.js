var s=(a,r,o)=>new Promise((e,c)=>{var l=t=>{try{i(o.next(t))}catch(n){c(n)}},g=t=>{try{i(o.throw(t))}catch(n){c(n)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,g);i((o=o.apply(a,r)).next())});import{x as d}from"./index-61e7aa99.js";import{R as u,a as m,P as f}from"./frappe-ui-24524c82.js";function w(a){if(!a)throw new Error("Notebook name is required");const r=u({doctype:"Insights Notebook",name:a}),o=m({doc:{},pages:[],loading:!1});return o.reload=()=>s(this,null,function*(){o.loading=!0,o.doc=yield r.get.fetch(),o.pages=yield f("insights.api.notebooks.get_notebook_pages",{notebook:a}),o.pages=o.pages.map(e=>(e.created_from_now=d(e.creation).fromNow(),e.modified_from_now=d(e.modified).fromNow(),e)),o.loading=!1}),o.reload(),o.createPage=()=>s(this,null,function*(){return f("insights.api.notebooks.create_notebook_page",{notebook:a})}),o.deleteNotebook=()=>s(this,null,function*(){o.deleting=!0,yield r.delete.submit(),o.deleting=!1}),o}export{w as u};
