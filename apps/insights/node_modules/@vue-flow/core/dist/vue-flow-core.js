"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue");function mt(e){return l.getCurrentScope()?(l.onScopeDispose(e),!0):!1}function le(e){return typeof e=="function"?e():l.unref(e)}const Zo=typeof window<"u",rr=e=>typeof e<"u",Wo=()=>{};function lr(e,t){function n(...o){return new Promise((i,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(r)})}return n}const qo=e=>e();function ar(e=qo){const t=l.ref(!0);function n(){t.value=!1}function o(){t.value=!0}const i=(...r)=>{t.value&&e(...r)};return{isActive:l.readonly(t),pause:n,resume:o,eventFilter:i}}function no(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function Pt(...e){if(e.length!==1)return l.toRef(...e);const t=e[0];return typeof t=="function"?l.readonly(l.customRef(()=>({get:t,set:Wo}))):l.ref(t)}var ur=Object.defineProperty,sr=Object.defineProperties,cr=Object.getOwnPropertyDescriptors,oo=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,io=(e,t,n)=>t in e?ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hr=(e,t)=>{for(var n in t||(t={}))dr.call(t,n)&&io(e,n,t[n]);if(oo)for(var n of oo(t))fr.call(t,n)&&io(e,n,t[n]);return e},gr=(e,t)=>sr(e,cr(t));function pr(e){if(!l.isRef(e))return l.toRefs(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=l.customRef(()=>({get(){return e.value[n]},set(o){if(Array.isArray(e.value)){const i=[...e.value];i[n]=o,e.value=i}else{const i=gr(hr({},e.value),{[n]:o});Object.setPrototypeOf(i,e.value),e.value=i}}}));return t}function mn(e,t=!1){function n(f,{flush:g="sync",deep:v=!1,timeout:k,throwOnTimeout:h}={}){let p=null;const m=[new Promise(E=>{p=l.watch(e,x=>{f(x)!==t&&(p==null||p(),E(x))},{flush:g,deep:v,immediate:!0})})];return k!=null&&m.push(no(k,h).then(()=>le(e)).finally(()=>p==null?void 0:p())),Promise.race(m)}function o(f,g){if(!l.isRef(f))return n(x=>x===f,g);const{flush:v="sync",deep:k=!1,timeout:h,throwOnTimeout:p}=g??{};let b=null;const E=[new Promise(x=>{b=l.watch([e,f],([M,w])=>{t!==(M===w)&&(b==null||b(),x(M))},{flush:v,deep:k,immediate:!0})})];return h!=null&&E.push(no(h,p).then(()=>le(e)).finally(()=>(b==null||b(),le(e)))),Promise.race(E)}function i(f){return n(g=>!!g,f)}function r(f){return o(null,f)}function a(f){return o(void 0,f)}function u(f){return n(Number.isNaN,f)}function s(f,g){return n(v=>{const k=Array.from(v);return k.includes(f)||k.includes(le(f))},g)}function c(f){return d(1,f)}function d(f=1,g){let v=-1;return n(()=>(v+=1,v>=f),g)}return Array.isArray(le(e))?{toMatch:n,toContains:s,changed:c,changedTimes:d,get not(){return mn(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:i,toBeNull:r,toBeNaN:u,toBeUndefined:a,changed:c,changedTimes:d,get not(){return mn(e,!t)}}}function Ae(e){return mn(e)}var ro=Object.getOwnPropertySymbols,mr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,yr=(e,t)=>{var n={};for(var o in e)mr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ro)for(var o of ro(e))t.indexOf(o)<0&&vr.call(e,o)&&(n[o]=e[o]);return n};function xr(e,t,n={}){const o=n,{eventFilter:i=qo}=o,r=yr(o,["eventFilter"]);return l.watch(e,lr(i,t),r)}var wr=Object.defineProperty,_r=Object.defineProperties,br=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,lo=(e,t,n)=>t in e?wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Er=(e,t)=>{for(var n in t||(t={}))Ko.call(t,n)&&lo(e,n,t[n]);if(It)for(var n of It(t))jo.call(t,n)&&lo(e,n,t[n]);return e},Sr=(e,t)=>_r(e,br(t)),Nr=(e,t)=>{var n={};for(var o in e)Ko.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&It)for(var o of It(e))t.indexOf(o)<0&&jo.call(e,o)&&(n[o]=e[o]);return n};function Ze(e,t,n={}){const o=n,{eventFilter:i}=o,r=Nr(o,["eventFilter"]),{eventFilter:a,pause:u,resume:s,isActive:c}=ar(i);return{stop:xr(e,t,Sr(Er({},r),{eventFilter:a})),pause:u,resume:s,isActive:c}}function vn(e){var t;const n=le(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Pn=Zo?window:void 0;function In(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=Pn):[t,n,o,i]=e,!t)return Wo;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],a=()=>{r.forEach(d=>d()),r.length=0},u=(d,f,g,v)=>(d.addEventListener(f,g,v),()=>d.removeEventListener(f,g,v)),s=l.watch(()=>[vn(t),le(i)],([d,f])=>{a(),d&&r.push(...n.flatMap(g=>o.map(v=>u(d,g,v,f))))},{immediate:!0,flush:"post"}),c=()=>{s(),a()};return mt(c),c}function kr(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ao(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Pn,eventName:r="keydown",passive:a=!1,dedupe:u=!1}=o,s=kr(t);return In(i,r,d=>{d.repeat&&le(u)||s(d)&&n(d)},a)}function Cr(){const e=l.ref(!1);return l.getCurrentInstance()&&l.onMounted(()=>{e.value=!0}),e}function Mr(e){const t=Cr();return l.computed(()=>(t.value,!!e()))}function $r(e){return JSON.parse(JSON.stringify(e))}var uo=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,Pr=(e,t)=>{var n={};for(var o in e)Tr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&uo)for(var o of uo(e))t.indexOf(o)<0&&Br.call(e,o)&&(n[o]=e[o]);return n};function Ir(e,t,n={}){const o=n,{window:i=Pn}=o,r=Pr(o,["window"]);let a;const u=Mr(()=>i&&"ResizeObserver"in i),s=()=>{a&&(a.disconnect(),a=void 0)},c=l.computed(()=>Array.isArray(e)?e.map(g=>vn(g)):[vn(e)]),d=l.watch(c,g=>{if(s(),u.value&&i){a=new ResizeObserver(t);for(const v of g)v&&a.observe(v,r)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{s(),d()};return mt(f),{isSupported:u,stop:f}}function lt(e,t,n,o={}){var i,r,a;const{clone:u=!1,passive:s=!1,eventName:c,deep:d=!1,defaultValue:f,shouldEmit:g}=o,v=l.getCurrentInstance(),k=n||(v==null?void 0:v.emit)||((i=v==null?void 0:v.$emit)==null?void 0:i.bind(v))||((a=(r=v==null?void 0:v.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(v==null?void 0:v.proxy));let h=c;t||(t="modelValue"),h=c||h||`update:${t.toString()}`;const p=E=>u?typeof u=="function"?u(E):$r(E):E,b=()=>rr(e[t])?p(e[t]):f,m=E=>{g?g(E)&&k(h,E):k(h,E)};if(s){const E=b(),x=l.ref(E);return l.watch(()=>e[t],M=>x.value=p(M)),l.watch(x,M=>{(M!==e[t]||d)&&m(M)},{deep:d}),x}else return l.computed({get(){return b()},set(E){m(E)}})}var Or={value:()=>{}};function Xt(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Mt(n)}function Mt(e){this._=e}function Ar(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Mt.prototype=Xt.prototype={constructor:Mt,on:function(e,t){var n=this._,o=Ar(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=Dr(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=so(n[i],e.name,t);else if(t==null)for(i in n)n[i]=so(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function Dr(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function so(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Or,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var yn="http://www.w3.org/1999/xhtml";const co={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ut(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),co.hasOwnProperty(t)?{space:co[t],local:e}:e}function zr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===yn&&t.documentElement.namespaceURI===yn?t.createElement(e):t.createElementNS(n,e)}}function Rr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jo(e){var t=Ut(e);return(t.local?Rr:zr)(t)}function Vr(){}function On(e){return e==null?Vr:function(){return this.querySelector(e)}}function Hr(e){typeof e!="function"&&(e=On(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,u=o[i]=new Array(a),s,c,d=0;d<a;++d)(s=r[d])&&(c=e.call(s,s.__data__,d,r))&&("__data__"in s&&(c.__data__=s.__data__),u[d]=c);return new ve(o,this._parents)}function Lr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fr(){return[]}function Qo(e){return e==null?Fr:function(){return this.querySelectorAll(e)}}function Gr(e){return function(){return Lr(e.apply(this,arguments))}}function Yr(e){typeof e=="function"?e=Gr(e):e=Qo(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],u=a.length,s,c=0;c<u;++c)(s=a[c])&&(o.push(e.call(s,s.__data__,c,a)),i.push(s));return new ve(o,i)}function ei(e){return function(){return this.matches(e)}}function ti(e){return function(t){return t.matches(e)}}var Xr=Array.prototype.find;function Ur(e){return function(){return Xr.call(this.children,e)}}function Zr(){return this.firstElementChild}function Wr(e){return this.select(e==null?Zr:Ur(typeof e=="function"?e:ti(e)))}var qr=Array.prototype.filter;function Kr(){return Array.from(this.children)}function jr(e){return function(){return qr.call(this.children,e)}}function Jr(e){return this.selectAll(e==null?Kr:jr(typeof e=="function"?e:ti(e)))}function Qr(e){typeof e!="function"&&(e=ei(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,u=o[i]=[],s,c=0;c<a;++c)(s=r[c])&&e.call(s,s.__data__,c,r)&&u.push(s);return new ve(o,this._parents)}function ni(e){return new Array(e.length)}function el(){return new ve(this._enter||this._groups.map(ni),this._parents)}function Ot(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ot.prototype={constructor:Ot,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tl(e){return function(){return e}}function nl(e,t,n,o,i,r){for(var a=0,u,s=t.length,c=r.length;a<c;++a)(u=t[a])?(u.__data__=r[a],o[a]=u):n[a]=new Ot(e,r[a]);for(;a<s;++a)(u=t[a])&&(i[a]=u)}function ol(e,t,n,o,i,r,a){var u,s,c=new Map,d=t.length,f=r.length,g=new Array(d),v;for(u=0;u<d;++u)(s=t[u])&&(g[u]=v=a.call(s,s.__data__,u,t)+"",c.has(v)?i[u]=s:c.set(v,s));for(u=0;u<f;++u)v=a.call(e,r[u],u,r)+"",(s=c.get(v))?(o[u]=s,s.__data__=r[u],c.delete(v)):n[u]=new Ot(e,r[u]);for(u=0;u<d;++u)(s=t[u])&&c.get(g[u])===s&&(i[u]=s)}function il(e){return e.__data__}function rl(e,t){if(!arguments.length)return Array.from(this,il);var n=t?ol:nl,o=this._parents,i=this._groups;typeof e!="function"&&(e=tl(e));for(var r=i.length,a=new Array(r),u=new Array(r),s=new Array(r),c=0;c<r;++c){var d=o[c],f=i[c],g=f.length,v=ll(e.call(d,d&&d.__data__,c,o)),k=v.length,h=u[c]=new Array(k),p=a[c]=new Array(k),b=s[c]=new Array(g);n(d,f,h,p,b,v,t);for(var m=0,E=0,x,M;m<k;++m)if(x=h[m]){for(m>=E&&(E=m+1);!(M=p[E])&&++E<k;);x._next=M||null}}return a=new ve(a,o),a._enter=u,a._exit=s,a}function ll(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function al(){return new ve(this._exit||this._groups.map(ni),this._parents)}function ul(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function sl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),u=new Array(i),s=0;s<a;++s)for(var c=n[s],d=o[s],f=c.length,g=u[s]=new Array(f),v,k=0;k<f;++k)(v=c[k]||d[k])&&(g[k]=v);for(;s<i;++s)u[s]=n[s];return new ve(u,this._parents)}function cl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function dl(e){e||(e=fl);function t(f,g){return f&&g?e(f.__data__,g.__data__):!f-!g}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],u=a.length,s=i[r]=new Array(u),c,d=0;d<u;++d)(c=a[d])&&(s[d]=c);s.sort(t)}return new ve(i,this._parents).order()}function fl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gl(){return Array.from(this)}function pl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function ml(){let e=0;for(const t of this)++e;return e}function vl(){return!this.node()}function yl(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,u;r<a;++r)(u=i[r])&&e.call(u,u.__data__,r,i);return this}function xl(e){return function(){this.removeAttribute(e)}}function wl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _l(e,t){return function(){this.setAttribute(e,t)}}function bl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function El(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Nl(e,t){var n=Ut(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?wl:xl:typeof t=="function"?n.local?Sl:El:n.local?bl:_l)(n,t))}function oi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kl(e){return function(){this.style.removeProperty(e)}}function Cl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ml(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function $l(e,t,n){return arguments.length>1?this.each((t==null?kl:typeof t=="function"?Ml:Cl)(e,t,n??"")):Je(this.node(),e)}function Je(e,t){return e.style.getPropertyValue(t)||oi(e).getComputedStyle(e,null).getPropertyValue(t)}function Tl(e){return function(){delete this[e]}}function Bl(e,t){return function(){this[e]=t}}function Pl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Il(e,t){return arguments.length>1?this.each((t==null?Tl:typeof t=="function"?Pl:Bl)(e,t)):this.node()[e]}function ii(e){return e.trim().split(/^|\s+/)}function An(e){return e.classList||new ri(e)}function ri(e){this._node=e,this._names=ii(e.getAttribute("class")||"")}ri.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function li(e,t){for(var n=An(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function ai(e,t){for(var n=An(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Ol(e){return function(){li(this,e)}}function Al(e){return function(){ai(this,e)}}function Dl(e,t){return function(){(t.apply(this,arguments)?li:ai)(this,e)}}function zl(e,t){var n=ii(e+"");if(arguments.length<2){for(var o=An(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Dl:t?Ol:Al)(n,t))}function Rl(){this.textContent=""}function Vl(e){return function(){this.textContent=e}}function Hl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ll(e){return arguments.length?this.each(e==null?Rl:(typeof e=="function"?Hl:Vl)(e)):this.node().textContent}function Fl(){this.innerHTML=""}function Gl(e){return function(){this.innerHTML=e}}function Yl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xl(e){return arguments.length?this.each(e==null?Fl:(typeof e=="function"?Yl:Gl)(e)):this.node().innerHTML}function Ul(){this.nextSibling&&this.parentNode.appendChild(this)}function Zl(){return this.each(Ul)}function Wl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ql(){return this.each(Wl)}function Kl(e){var t=typeof e=="function"?e:Jo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jl(){return null}function Jl(e,t){var n=typeof e=="function"?e:Jo(e),o=t==null?jl:typeof t=="function"?t:On(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Ql(){var e=this.parentNode;e&&e.removeChild(this)}function ea(){return this.each(Ql)}function ta(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function na(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oa(e){return this.select(e?na:ta)}function ia(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ra(e){return function(t){e.call(this,t,this.__data__)}}function la(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function aa(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function ua(e,t,n){return function(){var o=this.__on,i,r=ra(t);if(o){for(var a=0,u=o.length;a<u;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function sa(e,t,n){var o=la(e+""),i,r=o.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,c=u.length,d;s<c;++s)for(i=0,d=u[s];i<r;++i)if((a=o[i]).type===d.type&&a.name===d.name)return d.value}return}for(u=t?ua:aa,i=0;i<r;++i)this.each(u(o[i],t,n));return this}function ui(e,t,n){var o=oi(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ca(e,t){return function(){return ui(this,e,t)}}function da(e,t){return function(){return ui(this,e,t.apply(this,arguments))}}function fa(e,t){return this.each((typeof t=="function"?da:ca)(e,t))}function*ha(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var si=[null];function ve(e,t){this._groups=e,this._parents=t}function vt(){return new ve([[document.documentElement]],si)}function ga(){return this}ve.prototype=vt.prototype={constructor:ve,select:Hr,selectAll:Yr,selectChild:Wr,selectChildren:Jr,filter:Qr,data:rl,enter:el,exit:al,join:ul,merge:sl,selection:ga,order:cl,sort:dl,call:hl,nodes:gl,node:pl,size:ml,empty:vl,each:yl,attr:Nl,style:$l,property:Il,classed:zl,text:Ll,html:Xl,raise:Zl,lower:ql,append:Kl,insert:Jl,remove:ea,clone:oa,datum:ia,on:sa,dispatch:fa,[Symbol.iterator]:ha};function xe(e){return typeof e=="string"?new ve([[document.querySelector(e)]],[document.documentElement]):new ve([[e]],si)}function pa(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ee(e,t){if(e=pa(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const ma={passive:!1},ut={capture:!0,passive:!1};function on(e){e.stopImmediatePropagation()}function We(e){e.preventDefault(),e.stopImmediatePropagation()}function ci(e){var t=e.document.documentElement,n=xe(e).on("dragstart.drag",We,ut);"onselectstart"in t?n.on("selectstart.drag",We,ut):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function di(e,t){var n=e.document.documentElement,o=xe(e).on("dragstart.drag",null);t&&(o.on("click.drag",We,ut),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _t=e=>()=>e;function xn(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:r,x:a,y:u,dx:s,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}xn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function va(e){return!e.ctrlKey&&!e.button}function ya(){return this.parentNode}function xa(e,t){return t??{x:e.x,y:e.y}}function wa(){return navigator.maxTouchPoints||"ontouchstart"in this}function _a(){var e=va,t=ya,n=xa,o=wa,i={},r=Xt("start","drag","end"),a=0,u,s,c,d,f=0;function g(x){x.on("mousedown.drag",v).filter(o).on("touchstart.drag",p).on("touchmove.drag",b,ma).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,M){if(!(d||!e.call(this,x,M))){var w=E(this,t.call(this,x,M),x,M,"mouse");w&&(xe(x.view).on("mousemove.drag",k,ut).on("mouseup.drag",h,ut),ci(x.view),on(x),c=!1,u=x.clientX,s=x.clientY,w("start",x))}}function k(x){if(We(x),!c){var M=x.clientX-u,w=x.clientY-s;c=M*M+w*w>f}i.mouse("drag",x)}function h(x){xe(x.view).on("mousemove.drag mouseup.drag",null),di(x.view,c),We(x),i.mouse("end",x)}function p(x,M){if(e.call(this,x,M)){var w=x.changedTouches,A=t.call(this,x,M),V=w.length,H,O;for(H=0;H<V;++H)(O=E(this,A,x,M,w[H].identifier,w[H]))&&(on(x),O("start",x,w[H]))}}function b(x){var M=x.changedTouches,w=M.length,A,V;for(A=0;A<w;++A)(V=i[M[A].identifier])&&(We(x),V("drag",x,M[A]))}function m(x){var M=x.changedTouches,w=M.length,A,V;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),A=0;A<w;++A)(V=i[M[A].identifier])&&(on(x),V("end",x,M[A]))}function E(x,M,w,A,V,H){var O=r.copy(),Z=Ee(H||w,M),ee,X,y;if((y=n.call(x,new xn("beforestart",{sourceEvent:w,target:g,identifier:V,active:a,x:Z[0],y:Z[1],dx:0,dy:0,dispatch:O}),A))!=null)return ee=y.x-Z[0]||0,X=y.y-Z[1]||0,function $(S,I,D){var G=Z,P;switch(S){case"start":i[V]=$,P=a++;break;case"end":delete i[V],--a;case"drag":Z=Ee(D||I,M),P=a;break}O.call(S,x,new xn(S,{sourceEvent:I,subject:y,target:g,identifier:V,active:P,x:Z[0]+ee,y:Z[1]+X,dx:Z[0]-G[0],dy:Z[1]-G[1],dispatch:O}),A)}}return g.filter=function(x){return arguments.length?(e=typeof x=="function"?x:_t(!!x),g):e},g.container=function(x){return arguments.length?(t=typeof x=="function"?x:_t(x),g):t},g.subject=function(x){return arguments.length?(n=typeof x=="function"?x:_t(x),g):n},g.touchable=function(x){return arguments.length?(o=typeof x=="function"?x:_t(!!x),g):o},g.on=function(){var x=r.on.apply(r,arguments);return x===r?g:x},g.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,g):Math.sqrt(f)},g}function Dn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fi(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function yt(){}var st=.7,At=1/st,qe="\\s*([+-]?\\d+)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ba=/^#([0-9a-f]{3,8})$/,Ea=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),Sa=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),Na=new RegExp(`^rgba\\(${qe},${qe},${qe},${ct}\\)$`),ka=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${ct}\\)$`),Ca=new RegExp(`^hsl\\(${ct},${Ne},${Ne}\\)$`),Ma=new RegExp(`^hsla\\(${ct},${Ne},${Ne},${ct}\\)$`),fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dn(yt,dt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ho,formatHex:ho,formatHex8:$a,formatHsl:Ta,formatRgb:go,toString:go});function ho(){return this.rgb().formatHex()}function $a(){return this.rgb().formatHex8()}function Ta(){return hi(this).formatHsl()}function go(){return this.rgb().formatRgb()}function dt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ba.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?po(t):n===3?new me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ea.exec(e))?new me(t[1],t[2],t[3],1):(t=Sa.exec(e))?new me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Na.exec(e))?bt(t[1],t[2],t[3],t[4]):(t=ka.exec(e))?bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ca.exec(e))?yo(t[1],t[2]/100,t[3]/100,1):(t=Ma.exec(e))?yo(t[1],t[2]/100,t[3]/100,t[4]):fo.hasOwnProperty(e)?po(fo[e]):e==="transparent"?new me(NaN,NaN,NaN,0):null}function po(e){return new me(e>>16&255,e>>8&255,e&255,1)}function bt(e,t,n,o){return o<=0&&(e=t=n=NaN),new me(e,t,n,o)}function Ba(e){return e instanceof yt||(e=dt(e)),e?(e=e.rgb(),new me(e.r,e.g,e.b,e.opacity)):new me}function wn(e,t,n,o){return arguments.length===1?Ba(e):new me(e,t,n,o??1)}function me(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Dn(me,wn,fi(yt,{brighter(e){return e=e==null?At:Math.pow(At,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?st:Math.pow(st,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new me(Ye(this.r),Ye(this.g),Ye(this.b),Dt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatHex8:Pa,formatRgb:vo,toString:vo}));function mo(){return`#${He(this.r)}${He(this.g)}${He(this.b)}`}function Pa(){return`#${He(this.r)}${He(this.g)}${He(this.b)}${He((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){const e=Dt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ye(this.r)}, ${Ye(this.g)}, ${Ye(this.b)}${e===1?")":`, ${e})`}`}function Dt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function He(e){return e=Ye(e),(e<16?"0":"")+e.toString(16)}function yo(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,o)}function hi(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof yt||(e=dt(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,u=r-i,s=(r+i)/2;return u?(t===r?a=(n-o)/u+(n<o)*6:n===r?a=(o-t)/u+2:a=(t-n)/u+4,u/=s<.5?r+i:2-r-i,a*=60):u=s>0&&s<1?0:a,new we(a,u,s,e.opacity)}function Ia(e,t,n,o){return arguments.length===1?hi(e):new we(e,t,n,o??1)}function we(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Dn(we,Ia,fi(yt,{brighter(e){return e=e==null?At:Math.pow(At,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?st:Math.pow(st,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new me(rn(e>=240?e-240:e+120,i,o),rn(e,i,o),rn(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new we(xo(this.h),Et(this.s),Et(this.l),Dt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dt(this.opacity);return`${e===1?"hsl(":"hsla("}${xo(this.h)}, ${Et(this.s)*100}%, ${Et(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xo(e){return e=(e||0)%360,e<0?e+360:e}function Et(e){return Math.max(0,Math.min(1,e||0))}function rn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gi=e=>()=>e;function Oa(e,t){return function(n){return e+n*t}}function Aa(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Da(e){return(e=+e)==1?pi:function(t,n){return n-t?Aa(t,n,e):gi(isNaN(t)?n:t)}}function pi(e,t){var n=t-e;return n?Oa(e,n):gi(isNaN(e)?t:e)}const wo=function e(t){var n=Da(t);function o(i,r){var a=n((i=wn(i)).r,(r=wn(r)).r),u=n(i.g,r.g),s=n(i.b,r.b),c=pi(i.opacity,r.opacity);return function(d){return i.r=a(d),i.g=u(d),i.b=s(d),i.opacity=c(d),i+""}}return o.gamma=e,o}(1);function Ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var _n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ln=new RegExp(_n.source,"g");function za(e){return function(){return e}}function Ra(e){return function(t){return e(t)+""}}function Va(e,t){var n=_n.lastIndex=ln.lastIndex=0,o,i,r,a=-1,u=[],s=[];for(e=e+"",t=t+"";(o=_n.exec(e))&&(i=ln.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),u[a]?u[a]+=r:u[++a]=r),(o=o[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,s.push({i:a,x:Ie(o,i)})),n=ln.lastIndex;return n<t.length&&(r=t.slice(n),u[a]?u[a]+=r:u[++a]=r),u.length<2?s[0]?Ra(s[0].x):za(t):(t=s.length,function(c){for(var d=0,f;d<t;++d)u[(f=s[d]).i]=f.x(c);return u.join("")})}var _o=180/Math.PI,bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mi(e,t,n,o,i,r){var a,u,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(u=Math.sqrt(n*n+o*o))&&(n/=u,o/=u,s/=u),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*_o,skewX:Math.atan(s)*_o,scaleX:a,scaleY:u}}var St;function Ha(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bn:mi(t.a,t.b,t.c,t.d,t.e,t.f)}function La(e){return e==null||(St||(St=document.createElementNS("http://www.w3.org/2000/svg","g")),St.setAttribute("transform",e),!(e=St.transform.baseVal.consolidate()))?bn:(e=e.matrix,mi(e.a,e.b,e.c,e.d,e.e,e.f))}function vi(e,t,n,o){function i(c){return c.length?c.pop()+" ":""}function r(c,d,f,g,v,k){if(c!==f||d!==g){var h=v.push("translate(",null,t,null,n);k.push({i:h-4,x:Ie(c,f)},{i:h-2,x:Ie(d,g)})}else(f||g)&&v.push("translate("+f+t+g+n)}function a(c,d,f,g){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),g.push({i:f.push(i(f)+"rotate(",null,o)-2,x:Ie(c,d)})):d&&f.push(i(f)+"rotate("+d+o)}function u(c,d,f,g){c!==d?g.push({i:f.push(i(f)+"skewX(",null,o)-2,x:Ie(c,d)}):d&&f.push(i(f)+"skewX("+d+o)}function s(c,d,f,g,v,k){if(c!==f||d!==g){var h=v.push(i(v)+"scale(",null,",",null,")");k.push({i:h-4,x:Ie(c,f)},{i:h-2,x:Ie(d,g)})}else(f!==1||g!==1)&&v.push(i(v)+"scale("+f+","+g+")")}return function(c,d){var f=[],g=[];return c=e(c),d=e(d),r(c.translateX,c.translateY,d.translateX,d.translateY,f,g),a(c.rotate,d.rotate,f,g),u(c.skewX,d.skewX,f,g),s(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,g),c=d=null,function(v){for(var k=-1,h=g.length,p;++k<h;)f[(p=g[k]).i]=p.x(v);return f.join("")}}}var Fa=vi(Ha,"px, ","px)","deg)"),Ga=vi(La,", ",")",")"),Ya=1e-12;function bo(e){return((e=Math.exp(e))+1/e)/2}function Xa(e){return((e=Math.exp(e))-1/e)/2}function Ua(e){return((e=Math.exp(2*e))-1)/(e+1)}const Za=function e(t,n,o){function i(r,a){var u=r[0],s=r[1],c=r[2],d=a[0],f=a[1],g=a[2],v=d-u,k=f-s,h=v*v+k*k,p,b;if(h<Ya)b=Math.log(g/c)/t,p=function(A){return[u+A*v,s+A*k,c*Math.exp(t*A*b)]};else{var m=Math.sqrt(h),E=(g*g-c*c+o*h)/(2*c*n*m),x=(g*g-c*c-o*h)/(2*g*n*m),M=Math.log(Math.sqrt(E*E+1)-E),w=Math.log(Math.sqrt(x*x+1)-x);b=(w-M)/t,p=function(A){var V=A*b,H=bo(M),O=c/(n*m)*(H*Ua(t*V+M)-Xa(M));return[u+O*v,s+O*k,c*H/bo(t*V+M)]}}return p.duration=b*1e3*t/Math.SQRT2,p}return i.rho=function(r){var a=Math.max(.001,+r),u=a*a,s=u*u;return e(a,u,s)},i}(Math.SQRT2,2,4);var Qe=0,it=0,nt=0,yi=1e3,zt,rt,Rt=0,Ue=0,Zt=0,ft=typeof performance=="object"&&performance.now?performance:Date,xi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zn(){return Ue||(xi(Wa),Ue=ft.now()+Zt)}function Wa(){Ue=0}function Vt(){this._call=this._time=this._next=null}Vt.prototype=wi.prototype={constructor:Vt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zn():+n)+(t==null?0:+t),!this._next&&rt!==this&&(rt?rt._next=this:zt=this,rt=this),this._call=e,this._time=n,En()},stop:function(){this._call&&(this._call=null,this._time=1/0,En())}};function wi(e,t,n){var o=new Vt;return o.restart(e,t,n),o}function qa(){zn(),++Qe;for(var e=zt,t;e;)(t=Ue-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qe}function Eo(){Ue=(Rt=ft.now())+Zt,Qe=it=0;try{qa()}finally{Qe=0,ja(),Ue=0}}function Ka(){var e=ft.now(),t=e-Rt;t>yi&&(Zt-=t,Rt=e)}function ja(){for(var e,t=zt,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:zt=n);rt=e,En(o)}function En(e){if(!Qe){it&&(it=clearTimeout(it));var t=e-Ue;t>24?(e<1/0&&(it=setTimeout(Eo,e-ft.now()-Zt)),nt&&(nt=clearInterval(nt))):(nt||(Rt=ft.now(),nt=setInterval(Ka,yi)),Qe=1,xi(Eo))}}function So(e,t,n){var o=new Vt;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var Ja=Xt("start","end","cancel","interrupt"),Qa=[],_i=0,No=1,Sn=2,$t=3,ko=4,Nn=5,Tt=6;function Wt(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;eu(e,n,{name:t,index:o,group:i,on:Ja,tween:Qa,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:_i})}function Rn(e,t){var n=be(e,t);if(n.state>_i)throw new Error("too late; already scheduled");return n}function ke(e,t){var n=be(e,t);if(n.state>$t)throw new Error("too late; already running");return n}function be(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function eu(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=wi(r,0,n.time);function r(c){n.state=No,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,f,g,v;if(n.state!==No)return s();for(d in o)if(v=o[d],v.name===n.name){if(v.state===$t)return So(a);v.state===ko?(v.state=Tt,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[d]):+d<t&&(v.state=Tt,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[d])}if(So(function(){n.state===$t&&(n.state=ko,n.timer.restart(u,n.delay,n.time),u(c))}),n.state=Sn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sn){for(n.state=$t,i=new Array(g=n.tween.length),d=0,f=-1;d<g;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=v);i.length=f+1}}function u(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(s),n.state=Nn,1),f=-1,g=i.length;++f<g;)i[f].call(e,d);n.state===Nn&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Tt,n.timer.stop(),delete o[t];for(var c in o)return;delete e.__transition}}function Bt(e,t){var n=e.__transition,o,i,r=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>Sn&&o.state<Nn,o.state=Tt,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function tu(e){return this.each(function(){Bt(this,e)})}function nu(e,t){var n,o;return function(){var i=ke(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,u=o.length;a<u;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function ou(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=ke(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var u={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=u;break}s===c&&i.push(u)}r.tween=i}}function iu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=be(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?nu:ou)(n,e,t))}function Vn(e,t,n){var o=e._id;return e.each(function(){var i=ke(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return be(i,o).value[t]}}function bi(e,t){var n;return(typeof t=="number"?Ie:t instanceof dt?wo:(n=dt(t))?(t=n,wo):Va)(e,t)}function ru(e){return function(){this.removeAttribute(e)}}function lu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function au(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function uu(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function su(e,t,n){var o,i,r;return function(){var a,u=n(this),s;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=u+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,u)))}}function cu(e,t,n){var o,i,r;return function(){var a,u=n(this),s;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=u+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,u)))}}function du(e,t){var n=Ut(e),o=n==="transform"?Ga:bi;return this.attrTween(e,typeof t=="function"?(n.local?cu:su)(n,o,Vn(this,"attr."+e,t)):t==null?(n.local?lu:ru)(n):(n.local?uu:au)(n,o,t))}function fu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function hu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gu(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&hu(e,r)),n}return i._value=t,i}function pu(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&fu(e,r)),n}return i._value=t,i}function mu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Ut(e);return this.tween(n,(o.local?gu:pu)(o,t))}function vu(e,t){return function(){Rn(this,e).delay=+t.apply(this,arguments)}}function yu(e,t){return t=+t,function(){Rn(this,e).delay=t}}function xu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vu:yu)(t,e)):be(this.node(),t).delay}function wu(e,t){return function(){ke(this,e).duration=+t.apply(this,arguments)}}function _u(e,t){return t=+t,function(){ke(this,e).duration=t}}function bu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wu:_u)(t,e)):be(this.node(),t).duration}function Eu(e,t){if(typeof t!="function")throw new Error;return function(){ke(this,e).ease=t}}function Su(e){var t=this._id;return arguments.length?this.each(Eu(t,e)):be(this.node(),t).ease}function Nu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ke(this,e).ease=n}}function ku(e){if(typeof e!="function")throw new Error;return this.each(Nu(this._id,e))}function Cu(e){typeof e!="function"&&(e=ei(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,u=o[i]=[],s,c=0;c<a;++c)(s=r[c])&&e.call(s,s.__data__,c,r)&&u.push(s);return new Te(o,this._parents,this._name,this._id)}function Mu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),u=0;u<r;++u)for(var s=t[u],c=n[u],d=s.length,f=a[u]=new Array(d),g,v=0;v<d;++v)(g=s[v]||c[v])&&(f[v]=g);for(;u<o;++u)a[u]=t[u];return new Te(a,this._parents,this._name,this._id)}function $u(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Tu(e,t,n){var o,i,r=$u(t)?Rn:ke;return function(){var a=r(this,e),u=a.on;u!==o&&(i=(o=u).copy()).on(t,n),a.on=i}}function Bu(e,t){var n=this._id;return arguments.length<2?be(this.node(),n).on.on(e):this.each(Tu(n,e,t))}function Pu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Iu(){return this.on("end.remove",Pu(this._id))}function Ou(e){var t=this._name,n=this._id;typeof e!="function"&&(e=On(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var u=o[a],s=u.length,c=r[a]=new Array(s),d,f,g=0;g<s;++g)(d=u[g])&&(f=e.call(d,d.__data__,g,u))&&("__data__"in d&&(f.__data__=d.__data__),c[g]=f,Wt(c[g],t,n,g,c,be(d,n)));return new Te(r,this._parents,t,n)}function Au(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qo(e));for(var o=this._groups,i=o.length,r=[],a=[],u=0;u<i;++u)for(var s=o[u],c=s.length,d,f=0;f<c;++f)if(d=s[f]){for(var g=e.call(d,d.__data__,f,s),v,k=be(d,n),h=0,p=g.length;h<p;++h)(v=g[h])&&Wt(v,t,n,h,g,k);r.push(g),a.push(d)}return new Te(r,a,t,n)}var Du=vt.prototype.constructor;function zu(){return new Du(this._groups,this._parents)}function Ru(e,t){var n,o,i;return function(){var r=Je(this,e),a=(this.style.removeProperty(e),Je(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function Ei(e){return function(){this.style.removeProperty(e)}}function Vu(e,t,n){var o,i=n+"",r;return function(){var a=Je(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function Hu(e,t,n){var o,i,r;return function(){var a=Je(this,e),u=n(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(e),Je(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,u))}}function Lu(e,t){var n,o,i,r="style."+t,a="end."+r,u;return function(){var s=ke(this,e),c=s.on,d=s.value[r]==null?u||(u=Ei(t)):void 0;(c!==n||i!==d)&&(o=(n=c).copy()).on(a,i=d),s.on=o}}function Fu(e,t,n){var o=(e+="")=="transform"?Fa:bi;return t==null?this.styleTween(e,Ru(e,o)).on("end.style."+e,Ei(e)):typeof t=="function"?this.styleTween(e,Hu(e,o,Vn(this,"style."+e,t))).each(Lu(this._id,e)):this.styleTween(e,Vu(e,o,t),n).on("end.style."+e,null)}function Gu(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Yu(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&Gu(e,a,n)),o}return r._value=t,r}function Xu(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Yu(e,t,n??""))}function Uu(e){return function(){this.textContent=e}}function Zu(e){return function(){var t=e(this);this.textContent=t??""}}function Wu(e){return this.tween("text",typeof e=="function"?Zu(Vn(this,"text",e)):Uu(e==null?"":e+""))}function qu(e){return function(t){this.textContent=e.call(this,t)}}function Ku(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&qu(i)),t}return o._value=e,o}function ju(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ku(e))}function Ju(){for(var e=this._name,t=this._id,n=Si(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],u=a.length,s,c=0;c<u;++c)if(s=a[c]){var d=be(s,t);Wt(s,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Te(o,this._parents,e,n)}function Qu(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var u={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var c=ke(this,o),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),c.on=t}),i===0&&r()})}var es=0;function Te(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Si(){return++es}var Ce=vt.prototype;Te.prototype={constructor:Te,select:Ou,selectAll:Au,selectChild:Ce.selectChild,selectChildren:Ce.selectChildren,filter:Cu,merge:Mu,selection:zu,transition:Ju,call:Ce.call,nodes:Ce.nodes,node:Ce.node,size:Ce.size,empty:Ce.empty,each:Ce.each,on:Bu,attr:du,attrTween:mu,style:Fu,styleTween:Xu,text:Wu,textTween:ju,remove:Iu,tween:iu,delay:xu,duration:bu,ease:Su,easeVarying:ku,end:Qu,[Symbol.iterator]:Ce[Symbol.iterator]};function ts(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ns={time:null,delay:0,duration:250,ease:ts};function os(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function is(e){var t,n;e instanceof Te?(t=e._id,e=e._name):(t=Si(),(n=ns).time=zn(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],u=a.length,s,c=0;c<u;++c)(s=a[c])&&Wt(s,e,t,c,a,n||os(s,t));return new Te(o,this._parents,e,t)}vt.prototype.interrupt=tu;vt.prototype.transition=is;const Nt=e=>()=>e;function rs(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var et=new $e(1,0,0);$e.prototype;function an(e){e.stopImmediatePropagation()}function ot(e){e.preventDefault(),e.stopImmediatePropagation()}function ls(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function as(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Co(){return this.__zoom||et}function us(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ss(){return navigator.maxTouchPoints||"ontouchstart"in this}function cs(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}function ds(){var e=ls,t=as,n=cs,o=us,i=ss,r=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,s=Za,c=Xt("start","zoom","end"),d,f,g,v=500,k=150,h=0,p=10;function b(y){y.property("__zoom",Co).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",Z).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(y,$,S,I){var D=y.selection?y.selection():y;D.property("__zoom",Co),y!==D?M(y,$,S,I):D.interrupt().each(function(){w(this,arguments).event(I).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},b.scaleBy=function(y,$,S,I){b.scaleTo(y,function(){var D=this.__zoom.k,G=typeof $=="function"?$.apply(this,arguments):$;return D*G},S,I)},b.scaleTo=function(y,$,S,I){b.transform(y,function(){var D=t.apply(this,arguments),G=this.__zoom,P=S==null?x(D):typeof S=="function"?S.apply(this,arguments):S,U=G.invert(P),K=typeof $=="function"?$.apply(this,arguments):$;return n(E(m(G,K),P,U),D,a)},S,I)},b.translateBy=function(y,$,S,I){b.transform(y,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),a)},null,I)},b.translateTo=function(y,$,S,I,D){b.transform(y,function(){var G=t.apply(this,arguments),P=this.__zoom,U=I==null?x(G):typeof I=="function"?I.apply(this,arguments):I;return n(et.translate(U[0],U[1]).scale(P.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof S=="function"?-S.apply(this,arguments):-S),G,a)},I,D)};function m(y,$){return $=Math.max(r[0],Math.min(r[1],$)),$===y.k?y:new $e($,y.x,y.y)}function E(y,$,S){var I=$[0]-S[0]*y.k,D=$[1]-S[1]*y.k;return I===y.x&&D===y.y?y:new $e(y.k,I,D)}function x(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function M(y,$,S,I){y.on("start.zoom",function(){w(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(I).end()}).tween("zoom",function(){var D=this,G=arguments,P=w(D,G).event(I),U=t.apply(D,G),K=S==null?x(U):typeof S=="function"?S.apply(D,G):S,L=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),j=D.__zoom,T=typeof $=="function"?$.apply(D,G):$,te=s(j.invert(K).concat(L/j.k),T.invert(K).concat(L/T.k));return function(Q){if(Q===1)Q=T;else{var oe=te(Q),ne=L/oe[2];Q=new $e(ne,K[0]-oe[0]*ne,K[1]-oe[1]*ne)}P.zoom(null,Q)}})}function w(y,$,S){return!S&&y.__zooming||new A(y,$)}function A(y,$){this.that=y,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,$),this.taps=0}A.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,$){return this.mouse&&y!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var $=xe(this.that).datum();c.call(y,this.that,new rs(y,{sourceEvent:this.sourceEvent,target:b,type:y,transform:this.that.__zoom,dispatch:c}),$)}};function V(y,...$){if(!e.apply(this,arguments))return;var S=w(this,$).event(y),I=this.__zoom,D=Math.max(r[0],Math.min(r[1],I.k*Math.pow(2,o.apply(this,arguments)))),G=Ee(y);if(S.wheel)(S.mouse[0][0]!==G[0]||S.mouse[0][1]!==G[1])&&(S.mouse[1]=I.invert(S.mouse[0]=G)),clearTimeout(S.wheel);else{if(I.k===D)return;S.mouse=[G,I.invert(G)],Bt(this),S.start()}ot(y),S.wheel=setTimeout(P,k),S.zoom("mouse",n(E(m(I,D),S.mouse[0],S.mouse[1]),S.extent,a));function P(){S.wheel=null,S.end()}}function H(y,...$){if(g||!e.apply(this,arguments))return;var S=y.currentTarget,I=w(this,$,!0).event(y),D=xe(y.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",L,!0),G=Ee(y,S),P=y.clientX,U=y.clientY;ci(y.view),an(y),I.mouse=[G,this.__zoom.invert(G)],Bt(this),I.start();function K(j){if(ot(j),!I.moved){var T=j.clientX-P,te=j.clientY-U;I.moved=T*T+te*te>h}I.event(j).zoom("mouse",n(E(I.that.__zoom,I.mouse[0]=Ee(j,S),I.mouse[1]),I.extent,a))}function L(j){D.on("mousemove.zoom mouseup.zoom",null),di(j.view,I.moved),ot(j),I.event(j).end()}}function O(y,...$){if(e.apply(this,arguments)){var S=this.__zoom,I=Ee(y.changedTouches?y.changedTouches[0]:y,this),D=S.invert(I),G=S.k*(y.shiftKey?.5:2),P=n(E(m(S,G),I,D),t.apply(this,$),a);ot(y),u>0?xe(this).transition().duration(u).call(M,P,I,y):xe(this).call(b.transform,P,I,y)}}function Z(y,...$){if(e.apply(this,arguments)){var S=y.touches,I=S.length,D=w(this,$,y.changedTouches.length===I).event(y),G,P,U,K;for(an(y),P=0;P<I;++P)U=S[P],K=Ee(U,this),K=[K,this.__zoom.invert(K),U.identifier],D.touch0?!D.touch1&&D.touch0[2]!==K[2]&&(D.touch1=K,D.taps=0):(D.touch0=K,G=!0,D.taps=1+!!d);d&&(d=clearTimeout(d)),G&&(D.taps<2&&(f=K[0],d=setTimeout(function(){d=null},v)),Bt(this),D.start())}}function ee(y,...$){if(this.__zooming){var S=w(this,$).event(y),I=y.changedTouches,D=I.length,G,P,U,K;for(ot(y),G=0;G<D;++G)P=I[G],U=Ee(P,this),S.touch0&&S.touch0[2]===P.identifier?S.touch0[0]=U:S.touch1&&S.touch1[2]===P.identifier&&(S.touch1[0]=U);if(P=S.that.__zoom,S.touch1){var L=S.touch0[0],j=S.touch0[1],T=S.touch1[0],te=S.touch1[1],Q=(Q=T[0]-L[0])*Q+(Q=T[1]-L[1])*Q,oe=(oe=te[0]-j[0])*oe+(oe=te[1]-j[1])*oe;P=m(P,Math.sqrt(Q/oe)),U=[(L[0]+T[0])/2,(L[1]+T[1])/2],K=[(j[0]+te[0])/2,(j[1]+te[1])/2]}else if(S.touch0)U=S.touch0[0],K=S.touch0[1];else return;S.zoom("touch",n(E(P,U,K),S.extent,a))}}function X(y,...$){if(this.__zooming){var S=w(this,$).event(y),I=y.changedTouches,D=I.length,G,P;for(an(y),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),G=0;G<D;++G)P=I[G],S.touch0&&S.touch0[2]===P.identifier?delete S.touch0:S.touch1&&S.touch1[2]===P.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(P=Ee(P,this),Math.hypot(f[0]-P[0],f[1]-P[1])<p)){var U=xe(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return b.wheelDelta=function(y){return arguments.length?(o=typeof y=="function"?y:Nt(+y),b):o},b.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Nt(!!y),b):e},b.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Nt(!!y),b):i},b.extent=function(y){return arguments.length?(t=typeof y=="function"?y:Nt([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),b):t},b.scaleExtent=function(y){return arguments.length?(r[0]=+y[0],r[1]=+y[1],b):[r[0],r[1]]},b.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(y){return arguments.length?(n=y,b):n},b.duration=function(y){return arguments.length?(u=+y,b):u},b.interpolate=function(y){return arguments.length?(s=y,b):s},b.on=function(){var y=c.on.apply(c,arguments);return y===c?b:y},b.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,b):Math.sqrt(h)},b.tapDistance=function(y){return arguments.length?(p=+y,b):p},b}var q=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(q||{}),qt=(e=>(e.Partial="partial",e.Full="full",e))(qt||{}),Le=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Le||{}),ze=(e=>(e.Strict="strict",e.Loose="loose",e))(ze||{}),Ht=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Ht||{}),Ke=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Ke||{}),Ni=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Ni||{});const ki="vue-flow__node-desc",Ci="vue-flow__edge-desc",fs="vue-flow__aria-live",Mi=["Enter"," ","Escape"],je={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Mo(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function kn(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Kt(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Re(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function $i(e,t){return{x:Re(e.x,t[0][0],t[1][0]),y:Re(e.y,t[0][1],t[1][1])}}function $o(e){const t=e.getRootNode(),n=to();return"elementFromPoint"in t?t:n.document}function _e(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Ti(e){return _e(e)&&"sourceNode"in e&&"targetNode"in e}function De(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!_e(e)}function Fe(e){return De(e)&&"computedPosition"in e}function hs(e){return!!e.width&&!!e.height&&!!e.x&&!!e.y}function gs(e,t={}){let n=t;return Fe(e)||(n={type:e.type??t.type??"default",dimensions:l.markRaw({width:0,height:0}),handleBounds:{source:[],target:[]},computedPosition:l.markRaw({z:0,...e.position}),draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,...t,data:ue(e.data)?e.data:{},events:l.markRaw(ue(e.events)?e.events:{})}),Object.assign({},n,e,{id:e.id.toString()})}function Hn(e,t={}){const n=ue(e.events)?e.events:t.events&&ue(t.events)?t.events:{},o=ue(e.data)?e.data:t.data&&ue(t.data)?t.data:{};return t=Ti(e)?t:{...t,sourceHandle:(e.sourceHandle?e.sourceHandle.toString():void 0)||t.sourceHandle,targetHandle:(e.targetHandle?e.targetHandle.toString():void 0)||t.targetHandle,type:e.type??t.type??"default",source:e.source.toString()||t.source,target:e.target.toString()||t.target,updatable:e.updatable??t.updatable,selectable:e.selectable??t.selectable,focusable:e.focusable??t.focusable,data:o,events:l.markRaw(n),label:(e.label&&!ye(e.label)?l.markRaw(e.label):e.label)||t.label,interactionWidth:e.interactionWidth||t.interactionWidth},Object.assign({},t,e,{id:e.id.toString()})}function Bi(e,t,n,o){const i=ye(e)?e:e.id,r=new Set,a=o==="source"?"target":"source";return n.forEach(u=>{u[a]===i&&r.add(u[o])}),t.filter(u=>r.has(u.id))}function Pi(...e){if(e.length===3){const[r,a,u]=e;return Bi(r,a,u,"target")}const[t,n]=e,o=ye(t)?{id:t}:t;return n.filter(r=>_e(r)&&r.source===o.id).map(r=>n.find(a=>De(a)&&a.id===r.target))}function Ii(...e){if(e.length===3){const[r,a,u]=e;return Bi(r,a,u,"source")}const[t,n]=e,o=ye(t)?{id:t}:t;return n.filter(r=>_e(r)&&r.target===o.id).map(r=>n.find(a=>De(a)&&a.id===r.source))}function jt({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Ln(e,t){return t.some(n=>_e(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function ps(e,t,n){if(!e.source||!e.target)return gt("Can't create edge. An edge needs a source and a target."),t;let o;return _e(e)?o={...e}:o={...e,id:jt(e)},o=Hn(o,n),Ln(o,t)||t.push(o),t}function ms(e,t,n){if(!t.source||!t.target)return gt("Can't create new edge. An edge needs a source and a target."),n;const o=n.find(r=>_e(r)&&r.id===e.id);if(!o)return gt(`The old edge with id=${e.id} does not exist.`),n;const i={...e,id:jt(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(o),1,i),n.filter(r=>r.id!==e.id)}function Jt({x:e,y:t},{x:n,y:o,zoom:i}){return{x:e*i+n,y:t*i+o}}function Lt({x:e,y:t},{x:n,y:o,zoom:i},r,[a,u]){const s={x:(e-n)/i,y:(t-o)/i};return r?{x:a*Math.round(s.x/a),y:u*Math.round(s.y/u)}:s}function Oi(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Ft({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Ai({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function vs(e,t){return Ai(Oi(Ft(e),Ft(t)))}function Fn(e){const t=e.reduce((n,{computedPosition:o={x:0,y:0},dimensions:i={width:0,height:0}}={})=>Oi(n,Ft({...o,...i})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ai(t)}function Gn(e,t,{x:n,y:o,zoom:i}={x:0,y:0,zoom:1},r=!1,a=!1){const u={x:(t.x-n)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i};return e.filter(s=>{const{computedPosition:c={x:0,y:0},dimensions:d={width:0,height:0},selectable:f}=s;if(a&&!f)return!1;const g={...c,width:d.width||0,height:d.height||0},v=kn(u,g),k=typeof d.width>"u"||typeof d.height>"u"||d.width===0||d.height===0,h=r&&v>0,p=d.width*d.height;return k||h||v>=p})}function xt(e,t){const n=new Set;return ye(e)?n.add(e):e.length>=1&&e.forEach(o=>n.add(o.id)),t.filter(o=>n.has(o.source)||n.has(o.target))}function Cn(e,t,n,o,i,r=.1,a={x:0,y:0}){const u=t/(e.width*(1+r)),s=n/(e.height*(1+r)),c=Math.min(u,s),d=Re(c,o,i),f=e.x+e.width/2,g=e.y+e.height/2,v=t/2-f*d+(a.x??0),k=n/2-g*d+(a.y??0);return{x:v,y:k,zoom:d}}function ys(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Di(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:Di(n,t):!1}function Oe(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function To(e,t,n){return e<t?Re(Math.abs(e-t),1,50)/50:e>n?-Re(Math.abs(e-n),1,50)/50:0}function zi(e,t){const n=To(e.x,35,t.width-35)*20,o=To(e.y,35,t.height-35)*20;return[n,o]}function un(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let i={};if(tt(t.style)?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(ye(i.width)){const r=Number(i.width.replace("px",""));i.width=`${r+n}px`}else i.width+=n;if(o>0)if(ye(i.height)){const r=Number(i.height.replace("px",""));i.height=`${r+o}px`}else i.height+=o;if(e.position.x<0){const r=Math.abs(e.position.x);if(t.position.x=t.position.x-r,ye(i.width)){const a=Number(i.width.replace("px",""));i.width=`${a+r}px`}else i.width+=r;e.position.x=0}if(e.position.y<0){const r=Math.abs(e.position.y);if(t.position.y=t.position.y-r,ye(i.height)){const a=Number(i.height.replace("px",""));i.height=`${a+r}px`}else i.height+=r;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),tt(t.style)?t.style=r=>{const a=t.style;return{...a(r),...i}}:t.style={...t.style,...i}}}}function ht(e,t){e.filter(i=>i.type==="add"||i.type==="remove").forEach(i=>{if(i.type==="add")t.findIndex(a=>a.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const r=t.findIndex(a=>a.id===i.id);r!==-1&&t.splice(r,1)}});const o=t.map(i=>i.id);return t.forEach(i=>{var a,u;const r=e.filter(s=>s.id===i.id);for(const s of r)switch(s.type){case"select":i.selected=s.selected;break;case"position":if(Fe(i)&&(typeof s.position<"u"&&(i.position=s.position),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&i.parentNode)){const c=t[o.indexOf(i.parentNode)];c&&Fe(c)&&un(i,c)}break;case"dimensions":if(Fe(i)){if(typeof s.dimensions<"u"&&(i.dimensions=s.dimensions),typeof s.updateStyle<"u"&&(i.style={...i.style||{},width:`${(a=s.dimensions)==null?void 0:a.width}px`,height:`${(u=s.dimensions)==null?void 0:u.height}px`}),typeof s.resizing<"u"&&(i.resizing=s.resizing),i.expandParent&&i.parentNode){const c=t[o.indexOf(i.parentNode)];c&&Fe(c)&&(c.initialized?un(i,c):l.nextTick(()=>{un(i,c)}))}i.initialized||(i.initialized=!0)}break}}),t}function xs(e,t){return ht(e,t)}function ws(e,t){return ht(e,t)}function Me(e,t){return{id:e,type:"select",selected:t}}function Bo(e){return{item:e,type:"add"}}function Po(e){return{id:e,type:"remove"}}function Io(e,t,n){return{id:e,source:t,target:n,type:"remove"}}function sn(e,t){return e.reduce((n,o)=>{let i=t.includes(o.id);ue(o.selectable)&&!o.selectable&&(i=!1);const r=Fe(o)?"changedNodes":"changedEdges";return!o.selected&&i?n[r].push(Me(o.id,!0)):o.selected&&!i&&n[r].push(Me(o.id,!1)),n},{changedNodes:[],changedEdges:[]})}function R(e=()=>{}){const t=new Set,n=()=>t.size>0;e&&t.add(e);const o=a=>{t.delete(a)};return{on:a=>{t.has(e)&&t.delete(e),t.add(a);const u=()=>o(a);return mt(u),{off:u}},off:o,trigger:a=>Promise.all(Array.from(t).map(u=>u(a))),hasListeners:n}}function Oo(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function _s(e,t,n,o,i){return e.filter(r=>(r.selected||r.id===i)&&(!r.parentNode||!Di(r,o))&&(r.draggable||t&&typeof r.draggable>"u")).map(r=>{var a,u;return l.markRaw({id:r.id,position:r.position||{x:0,y:0},distance:{x:n.x-((a=r.computedPosition)==null?void 0:a.x)||0,y:n.y-((u=r.computedPosition)==null?void 0:u.y)||0},from:r.computedPosition,extent:r.extent,parentNode:r.parentNode,dimensions:r.dimensions,expandParent:r.expandParent})})}function cn({id:e,dragItems:t,findNode:n}){const o=t.reduce((i,r)=>{const a=n(r.id);return a&&i.push(a),i},[]);return[e?o.find(i=>i.id===e):o[0],o]}function Ri(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function bs(e,t,n){const[o,i,r,a]=typeof e!="string"?Ri(e.padding):[0,0,0,0];return n&&Se(n.computedPosition.x)&&Se(n.computedPosition.y)&&Se(n.dimensions.width)&&Se(n.dimensions.height)?[[n.computedPosition.x+a,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-r]]:!1}function Es(e,t,n,o){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=bs(i,e,o);r&&(i=r)}else t(new ge(fe.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const r=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;i=[[i[0][0]+r,i[0][1]+a],[i[1][0]+r,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[r,a,u,s]=Ri(i.padding),c=(o==null?void 0:o.computedPosition.x)||0,d=(o==null?void 0:o.computedPosition.y)||0;i=[[i.range[0][0]+c+s,i.range[0][1]+d+r],[i.range[1][0]+c-a,i.range[1][1]+d-u]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function Ss({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Yn(e,t,n,o,i){const r=Ss(e.dimensions,Es(e,n,o,i)),a=$i(t,r);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function Mn(e,t,n){const o=((n==null?void 0:n.x)??0)+t.x,i=((n==null?void 0:n.y)??0)+t.y,r=(n==null?void 0:n.width)??t.width,a=(n==null?void 0:n.height)??t.height;switch(e){case q.Top:return{x:o+r/2,y:i};case q.Right:return{x:o+r,y:i+a/2};case q.Bottom:return{x:o+r/2,y:i+a};case q.Left:return{x:o,y:i+a/2}}}function Ao(e=[],t){return e.length?!t||e.length===1?e[0]:t&&e.find(n=>n.id===t)||null:null}function Ns(e,t,n,o,i,r){const a=Mn(n,{...e.dimensions,...e.computedPosition},t),u=Mn(r,{...o.dimensions,...o.computedPosition},i);return{sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y}}function ks({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:a,height:u,viewport:s}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=Ft({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:a/s.zoom,height:u/s.zoom}),f=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),g=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(f*g)>0}function Cs(e,t,n=!1){const o=Se(e.zIndex);let i=o?e.zIndex:0;const r=t(e.source),a=t(e.target);return!r||!a?0:(n&&(i=o?e.zIndex:Math.max(r.computedPosition.z||0,a.computedPosition.z||0)),i)}var fe=(e=>(e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e))(fe||{});const dn={MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`};class ge extends Error{constructor(t,...n){var o;super((o=dn[t])==null?void 0:o.call(dn,...n)),this.code=t}}function Xn(e){return"clientX"in e}function Xe(e,t){var r,a;const n=Xn(e),o=n?e.clientX:(r=e.touches)==null?void 0:r[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}}function ye(e){return typeof e=="string"}function tt(e){return typeof e=="function"}function fn(e){return typeof e=="boolean"}function Se(e){return typeof e=="number"}const Gt=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Vi(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function hn(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Do(e,t,n,o){return(t[n]||[]).reduce((i,r)=>{var a,u;return`${e.id}-${r.id}-${n}`!==o&&i.push({id:r.id||null,type:n,nodeId:e.id,x:(((a=e.computedPosition)==null?void 0:a.x)??0)+r.x+r.width/2,y:(((u=e.computedPosition)==null?void 0:u.y)??0)+r.y+r.height/2,width:r.width,height:r.height}),i},[])}function Ms(e,t,n,o,i,r){const{x:a,y:u}=Xe(e),c=t.elementsFromPoint(a,u).find(k=>k.classList.contains("vue-flow__handle"));if(c){const k=c.getAttribute("data-nodeid");if(k){const h=Un(void 0,c),p=c.getAttribute("data-handleid"),b=r({nodeId:k,id:p,type:h});if(b)return{handle:{id:p,type:h,nodeId:k,x:n.x,y:n.y},validHandleResult:b}}}let d=[],f=1/0;if(i.forEach(k=>{const h=Math.sqrt((k.x-n.x)**2+(k.y-n.y)**2);if(h<=o){const p=r(k);h<=f&&(h<f?d=[{handle:k,validHandleResult:p}]:h===f&&d.push({handle:k,validHandleResult:p}),f=h)}}),!d.length)return{handle:null,validHandleResult:Vi()};if(d.length===1)return d[0];const g=d.some(({validHandleResult:k})=>k.isValid),v=d.some(({handle:k})=>k.type==="target");return d.find(({handle:k,validHandleResult:h})=>v?k.type==="target":g?h.isValid:!0)||d[0]}function zo(e,t,n,o,i,r,a,u,s,c){const d=r==="target",f=u.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:g,y:v}=Xe(e),k=u.elementFromPoint(g,v),h=k!=null&&k.classList.contains("vue-flow__handle")?k:f,p=Vi();if(h){p.handleDomNode=h;const b=Un(void 0,h),m=h.getAttribute("data-nodeid"),E=h.getAttribute("data-handleid"),x=h.classList.contains("connectable"),M=h.classList.contains("connectableend"),w={source:d?m:o,sourceHandle:d?E:i,target:d?o:m,targetHandle:d?i:E};p.connection=w;const V=x&&M&&(n===ze.Strict?d&&b==="source"||!d&&b==="target":m!==o||E!==i);p.endHandle={nodeId:m,handleId:E,type:b},V&&(p.isValid=a(w,{edges:s,sourceNode:c(w.source),targetNode:c(w.target)}))}return p}function $s({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((i,r)=>{const{handleBounds:a}=r;let u=[],s=[];return a&&(u=Do(r,a,"source",`${t}-${n}-${o}`),s=Do(r,a,"target",`${t}-${n}-${o}`)),i.push(...u,...s),i},[])}function Un(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ts(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const Bs=["production","prod"];function gt(e,...t){Bs.includes(process.env.NODE_ENV||"")||console.warn(`[Vue Flow]: ${e}`,...t)}function Ro(e,t,n){const o=t.querySelectorAll(`.vue-flow__handle${e}`);if(!o||!o.length)return;const i=Array.from(o),r=t.getBoundingClientRect();return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-r.left)/n,y:(u.top-r.top)/n,...Kt(a)}})}function $n(e,t,n,o,i,r=!1,a){i.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),l.nextTick(()=>{a.blur()})):n([e])}function ue(e){return typeof l.unref(e)<"u"}function Ps(e,t,n){if(!e.source||!e.target)return n(new ge(fe.EDGE_INVALID,e.id)),!1;let o;return _e(e)?o=e:o={...e,id:jt(e)},o=Hn(o),Ln(o,t)?!1:o}function Is(e,t,n,o,i,r){if(!t.source||!t.target)return r(new ge(fe.EDGE_INVALID,e.id)),!1;const a=o(e.id);if(!a)return r(new ge(fe.EDGE_NOT_FOUND,e.id)),!1;const{id:u,...s}=e,c={...s,id:i?jt(t):u,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle};return n.splice(n.indexOf(a),1,c),c}function Vo(e,t,n,o){const i={},r=e.reduce((u,s)=>{if(!De(s))return o(new ge(fe.NODE_INVALID)),u;const c=gs(s,{...n(s.id),parentNode:s.parentNode});return s.parentNode&&(i[s.parentNode]=!0),u.concat(c)},[]),a=[...r,...t];for(const u of r){const s=a.find(c=>c.id===u.parentNode);u.parentNode&&!s&&o(new ge(fe.NODE_MISSING_PARENT,u.id,u.parentNode)),(u.parentNode||i[u.id])&&(i[u.id]&&(u.isParent=!0),s&&(s.isParent=!0))}return r}function Hi(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:i,nodes:r,nodeExtent:a,nodeDragThreshold:u,viewport:s,autoPanOnNodeDrag:c,nodesDraggable:d,panBy:f,findNode:g,multiSelectionActive:v,nodesSelectionActive:k,selectNodesOnDrag:h,removeSelectedElements:p,addSelectedNodes:b,updateNodePositions:m,emits:E}=ce(),{onStart:x,onDrag:M,onStop:w,el:A,disabled:V,id:H,selectable:O,dragHandle:Z}=e,ee=l.ref(!1);let X=[],y,$=null,S={x:void 0,y:void 0},I={x:0,y:0},D=null,G=!1,P=0,U=!1;const K=er(),L=({x:T,y:te})=>{S={x:T,y:te};let Q=!1;if(X=X.map(oe=>{const ne={x:T-oe.distance.x,y:te-oe.distance.y};n.value&&(ne.x=o.value[0]*Math.round(ne.x/o.value[0]),ne.y=o.value[1]*Math.round(ne.y/o.value[1]));const{computedPosition:Y}=Yn(oe,ne,E.error,a.value,oe.parentNode?g(oe.parentNode):void 0);return Q=Q||oe.position.x!==Y.x||oe.position.y!==Y.y,oe.position=Y,oe}),!!Q&&(m(X,!0,!0),ee.value=!0,D)){const[oe,ne]=cn({id:H,dragItems:X,findNode:g});M({event:D,node:oe,nodes:ne})}},j=()=>{if(!$)return;const[T,te]=zi(I,$);if(T!==0||te!==0){const Q={x:(S.x??0)-T/s.value.zoom,y:(S.y??0)-te/s.value.zoom};f({x:T,y:te})&&L(Q)}P=requestAnimationFrame(j)};return l.watch([()=>le(V),A],([T,te])=>{if(te){const Q=xe(te);if(T)Q.on(".drag",null);else{const oe=ne=>{G=!0;const Y=g(H);!h.value&&!v.value&&Y&&(Y.selected||p()),Y&&le(O)&&h.value&&$n(Y,v.value,b,p,k,!1,te);const ie=K(ne);if(S=ie,X=_s(r.value,d.value,ie,g,H),X.length){const[se,de]=cn({id:H,dragItems:X,findNode:g});x({event:ne.sourceEvent,node:se,nodes:de})}};y=_a().on("start",ne=>{var Y;u.value===0&&oe(ne),S=K(ne),$=((Y=t.value)==null?void 0:Y.getBoundingClientRect())||null,I=Xe(ne.sourceEvent,$)}).on("drag",ne=>{const Y=K(ne);if(!U&&G&&c.value&&(U=!0,j()),!G){const ie=Y.xSnapped-(S.x??0),se=Y.ySnapped-(S.y??0);Math.sqrt(ie*ie+se*se)>u.value&&oe(ne)}(S.x!==Y.xSnapped||S.y!==Y.ySnapped)&&X.length&&G&&(D=ne.sourceEvent,I=Xe(ne.sourceEvent,$),L(Y))}).on("end",ne=>{if(G&&(ee.value=!1,U=!1,G=!1,cancelAnimationFrame(P),X.length)){m(X,!1,!1);const[Y,ie]=cn({id:H,dragItems:X,findNode:g});w({event:ne.sourceEvent,node:Y,nodes:ie})}}).filter(ne=>{const Y=ne.target,ie=le(Z);return!ne.button&&(!i.value||!Oo(Y,`.${i.value}`,te)&&(!ie||Oo(Y,ie,te)))}),Q.call(y)}}}),ee}function Os(){return{edgesChange:R(),nodesChange:R(),nodeDoubleClick:R(),nodeClick:R(),nodeMouseEnter:R(),nodeMouseMove:R(),nodeMouseLeave:R(),nodeContextMenu:R(),nodeDragStart:R(),nodeDrag:R(),nodeDragStop:R(),nodesInitialized:R(),miniMapNodeClick:R(),miniMapNodeDoubleClick:R(),miniMapNodeMouseEnter:R(),miniMapNodeMouseMove:R(),miniMapNodeMouseLeave:R(),connect:R(),connectStart:R(),connectEnd:R(),clickConnectStart:R(),clickConnectEnd:R(),paneReady:R(),move:R(),moveStart:R(),moveEnd:R(),selectionDragStart:R(),selectionDrag:R(),selectionDragStop:R(),selectionContextMenu:R(),selectionStart:R(),selectionEnd:R(),viewportChangeStart:R(),viewportChange:R(),viewportChangeEnd:R(),paneScroll:R(),paneClick:R(),paneContextMenu:R(),paneMouseEnter:R(),paneMouseMove:R(),paneMouseLeave:R(),edgeContextMenu:R(),edgeMouseEnter:R(),edgeMouseMove:R(),edgeMouseLeave:R(),edgeDoubleClick:R(),edgeClick:R(),edgeUpdateStart:R(),edgeUpdate:R(),edgeUpdateEnd:R(),updateNodeInternals:R(),error:R(e=>gt(e.message))}}function As(e,t){l.onBeforeMount(()=>{for(const[n,o]of Object.entries(t.value)){const i=r=>{e(n,r)};o.on(i),mt(()=>{o.off(i)})}})}function Li(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}const Ds=["data-id","data-handleid","data-nodeid","data-handlepos"],zs={name:"Handle",compatConfig:{MODE:3}},pt=l.defineComponent({...zs,props:{id:null,type:null,position:{default:q.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e){const t=Li(e,["position","connectable","connectableStart","connectableEnd","id"]),n=Pt(t,"type","source"),o=Pt(t,"isValidConnection",void 0),{connectionStartHandle:i,connectionClickStartHandle:r,connectionEndHandle:a,vueFlowRef:u,nodesConnectable:s,noDragClassName:c,noPanClassName:d}=ce(),{id:f,node:g,nodeEl:v,connectedEdges:k}=tr(),h=l.ref(),p=l.computed(()=>e.id??`${f}__handle-${e.position}`),b=l.computed(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=l.computed(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),{handlePointerDown:E,handleClick:x}=eo({nodeId:f,handleId:p,isValidConnection:o,type:n}),M=l.computed(()=>ye(e.connectable)&&e.connectable==="single"?!k.value.some(O=>{const Z=O[`${n.value}Handle`];return O[n.value]!==f?!1:Z?Z===p.value:!0}):Se(e.connectable)?k.value.filter(O=>{const Z=O[`${n.value}Handle`];return O[n.value]!==f?!1:Z?Z===p.value:!0}).length<e.connectable:tt(e.connectable)?e.connectable(g,k.value):ue(e.connectable)?e.connectable:s.value),w=l.computed(()=>{var O,Z,ee,X,y,$;return((O=i.value)==null?void 0:O.nodeId)===f&&((Z=i.value)==null?void 0:Z.handleId)===p.value&&((ee=i.value)==null?void 0:ee.type)===n.value||((X=a.value)==null?void 0:X.nodeId)===f&&((y=a.value)==null?void 0:y.handleId)===p.value&&(($=a.value)==null?void 0:$.type)===n.value}),A=l.computed(()=>{var O,Z,ee;return((O=r.value)==null?void 0:O.nodeId)===f&&((Z=r.value)==null?void 0:Z.handleId)===p.value&&((ee=r.value)==null?void 0:ee.type)===n.value});Ae(()=>g.initialized).toBe(!0,{flush:"post"}).then(()=>{var I;const O=(I=g.handleBounds[n.value])==null?void 0:I.find(D=>D.id===p.value);if(!u.value||O)return;const Z=u.value.querySelector(".vue-flow__transformationpane");if(!v.value||!h.value||!Z||!p.value)return;const ee=v.value.getBoundingClientRect(),X=h.value.getBoundingClientRect(),y=window.getComputedStyle(Z),{m22:$}=new window.DOMMatrixReadOnly(y.transform),S={id:p.value,position:e.position,x:(X.left-ee.left)/$,y:(X.top-ee.top)/$,...Kt(h.value)};g.handleBounds[n.value]=[...g.handleBounds[n.value]??[],S]}),l.onUnmounted(()=>{const O=g.handleBounds[n.value];O&&(g.handleBounds[n.value]=O.filter(Z=>Z.id!==p.value))});function V(O){const Z=Xn(O);M.value&&b.value&&(Z&&O.button===0||!Z)&&E(O)}function H(O){!f||!r.value&&!b.value||M.value&&x(O)}return(O,Z)=>(l.openBlock(),l.createElementBlock("div",{ref_key:"handle",ref:h,"data-id":`${l.unref(f)}-${l.unref(p)}-${l.unref(n)}`,"data-handleid":l.unref(p),"data-nodeid":l.unref(f),"data-handlepos":e.position,class:l.normalizeClass(["vue-flow__handle",[`vue-flow__handle-${e.position}`,`vue-flow__handle-${l.unref(p)}`,l.unref(c),l.unref(d),l.unref(n),{connectable:l.unref(M),connecting:l.unref(A),connectablestart:l.unref(b),connectableend:l.unref(m),connectionindicator:l.unref(M)&&(l.unref(b)&&!l.unref(w)||l.unref(m)&&l.unref(w))}]]),onMousedown:V,onTouchstartPassive:V,onClick:H},[l.renderSlot(O.$slots,"default",{id:e.id})],42,Ds))}}),Qt=function({sourcePosition:e=q.Bottom,targetPosition:t=q.Top,label:n,connectable:o=!0,isValidTargetPos:i,isValidSourcePos:r}){return[l.h(pt,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof n!="string"&&n?l.h(n):l.h("div",{innerHTML:n}),l.h(pt,{type:"source",position:e,connectable:o,isValidConnection:r})]};Qt.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable"];Qt.inheritAttrs=!1;Qt.compatConfig={MODE:3};const Rs=Qt,en=function({sourcePosition:e=q.Bottom,label:t,connectable:n=!0,isValidSourcePos:o}){return[typeof t!="string"&&t?l.h(t):l.h("div",{innerHTML:t}),l.h(pt,{type:"source",position:e,connectable:n,isValidConnection:o})]};en.props=["sourcePosition","label","isValidSourcePos","connectable"];en.inheritAttrs=!1;en.compatConfig={MODE:3};const Vs=en,tn=function({targetPosition:e=q.Top,label:t,connectable:n=!0,isValidTargetPos:o}){return[l.h(pt,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof t!="string"&&t?l.h(t):l.h("div",{innerHTML:t})]};tn.props=["targetPosition","label","isValidTargetPos","connectable"];tn.inheritAttrs=!1;tn.compatConfig={MODE:3};const Hs=tn,Tn=Symbol("vueFlow"),Zn=Symbol("nodeId"),Fi=Symbol("nodeRef"),Gi=Symbol("edgeId"),Yi=Symbol("edgeRef"),nn=Symbol("slots"),Ls=l.defineComponent({name:"Node",compatConfig:{MODE:3},props:["name","type","id","draggable","selectable","focusable","connectable","node","resizeObserver"],setup(e){l.provide(Zn,e.id);const{id:t,edges:n,noPanClassName:o,selectNodesOnDrag:i,nodesSelectionActive:r,multiSelectionActive:a,emits:u,findNode:s,removeSelectedNodes:c,addSelectedNodes:d,updateNodeDimensions:f,onUpdateNodeInternals:g,getIntersectingNodes:v,getNodeTypes:k,nodeExtent:h,elevateNodesOnSelect:p,disableKeyboardA11y:b,ariaLiveMessage:m,snapToGrid:E,snapGrid:x}=ce(),M=nr(),w=lt(e,"node"),A=l.computed(()=>s(w.value.parentNode)),V=l.computed(()=>xt([w.value],n.value)),H=l.ref(null);l.provide(Fi,H);const{emit:O,on:Z}=Mc(w.value,u),ee=Hi({id:e.id,el:H,disabled:()=>!e.draggable,selectable:()=>e.selectable,dragHandle:()=>w.value.dragHandle,onStart(T){O.dragStart({...T,intersections:v(w.value)})},onDrag(T){O.drag({...T,intersections:v(w.value)})},onStop(T){O.dragStop({...T,intersections:v(w.value)})}}),X=l.computed(()=>w.value.class instanceof Function?w.value.class(w.value):w.value.class),y=l.computed(()=>{const T=(w.value.style instanceof Function?w.value.style(w.value):w.value.style)||{},te=w.value.width instanceof Function?w.value.width(w.value):w.value.width,Q=w.value.height instanceof Function?w.value.height(w.value):w.value.height;return te&&(T.width=typeof te=="string"?te:`${te}px`),Q&&(T.height=typeof Q=="string"?Q:`${Q}px`),T}),$=()=>Number(w.value.zIndex??y.value.zIndex??0);return g(T=>{T.includes(e.id)&&I()}),l.onMounted(()=>{e.resizeObserver.observe(H.value)}),l.onBeforeUnmount(()=>{e.resizeObserver.unobserve(H.value)}),l.watch([()=>w.value.type,()=>w.value.sourcePosition,()=>w.value.targetPosition],()=>{f([{id:e.id,nodeElement:H.value,forceUpdate:!0}])},{flush:"pre"}),l.watch([()=>w.value.position.x,()=>w.value.position.y,()=>{var T;return(T=A.value)==null?void 0:T.computedPosition.x},()=>{var T;return(T=A.value)==null?void 0:T.computedPosition.y},()=>{var T;return(T=A.value)==null?void 0:T.computedPosition.z},()=>$(),()=>w.value.selected,()=>w.value.dimensions.height,()=>w.value.dimensions.width,()=>{var T;return(T=A.value)==null?void 0:T.dimensions.height},()=>{var T;return(T=A.value)==null?void 0:T.dimensions.width}],([T,te,Q,oe,ne,Y])=>{const ie={x:T,y:te,z:Y+(p.value&&w.value.selected?1e3:0)};Se(Q)&&Se(oe)?w.value.computedPosition=ys({x:Q,y:oe,z:ne},ie):w.value.computedPosition=ie},{flush:"post",immediate:!0}),l.watch([()=>w.value.extent,h],([T,te],[Q,oe])=>{(T!==Q||te!==oe)&&S()}),w.value.extent==="parent"||typeof w.value.extent=="object"&&"range"in w.value.extent&&w.value.extent.range==="parent"?Ae(()=>w.value.initialized).toBe(!0).then(S):S(),()=>l.h("div",{ref:H,"data-id":w.value.id,class:["vue-flow__node",`vue-flow__node-${e.type===!1?"default":e.name}`,{[o.value]:e.draggable,dragging:ee==null?void 0:ee.value,selected:w.value.selected,selectable:e.selectable,parent:w.value.isParent},X.value],style:{zIndex:w.value.computedPosition.z??$(),transform:`translate(${w.value.computedPosition.x}px,${w.value.computedPosition.y}px)`,pointerEvents:e.selectable||e.draggable?"all":"none",visibility:w.value.initialized?"visible":"hidden",...y.value},tabIndex:e.focusable?0:void 0,role:e.focusable?"button":void 0,"aria-describedby":b.value?void 0:`${ki}-${t}`,"aria-label":w.value.ariaLabel,onMouseenter:D,onMousemove:G,onMouseleave:P,onContextmenu:U,onClick:L,onDblclick:K,onKeydown:j},[l.h(e.type===!1?k.value.default:e.type,{id:w.value.id,type:w.value.type,data:w.value.data,events:{...w.value.events,...Z},selected:!!w.value.selected,resizing:!!w.value.resizing,dragging:ee.value,connectable:e.connectable,position:w.value.position,dimensions:w.value.dimensions,isValidTargetPos:w.value.isValidTargetPos,isValidSourcePos:w.value.isValidSourcePos,parent:w.value.parentNode,zIndex:w.value.computedPosition.z,targetPosition:w.value.targetPosition,sourcePosition:w.value.sourcePosition,label:w.value.label,dragHandle:w.value.dragHandle,onUpdateNodeInternals:I})]);function S(){const T=w.value.computedPosition;E.value&&(T.x=x.value[0]*Math.round(T.x/x.value[0]),T.y=x.value[1]*Math.round(T.y/x.value[1]));const{computedPosition:te,position:Q}=Yn(w.value,T,u.error,h.value,A.value);(w.value.computedPosition.x!==te.x||w.value.computedPosition.y!==te.y)&&(w.value.computedPosition={...w.value.computedPosition,...te}),(w.value.position.x!==Q.x||w.value.position.y!==Q.y)&&(w.value.position=Q)}function I(){H.value&&f([{id:e.id,nodeElement:H.value,forceUpdate:!0}])}function D(T){ee!=null&&ee.value||O.mouseEnter({event:T,node:w.value,connectedEdges:V.value})}function G(T){ee!=null&&ee.value||O.mouseMove({event:T,node:w.value,connectedEdges:V.value})}function P(T){ee!=null&&ee.value||O.mouseLeave({event:T,node:w.value,connectedEdges:V.value})}function U(T){return O.contextMenu({event:T,node:w.value,connectedEdges:V.value})}function K(T){return O.doubleClick({event:T,node:w.value,connectedEdges:V.value})}function L(T){e.selectable&&(!i.value||!e.draggable)&&$n(w.value,a.value,d,c,r,!1,H.value),O.click({event:T,node:w.value,connectedEdges:V.value})}function j(T){if(!Bn(T))if(Mi.includes(T.key)&&e.selectable){const te=T.key==="Escape";$n(w.value,a.value,d,c,r,te,H.value)}else!b.value&&e.draggable&&w.value.selected&&je[T.key]&&(m.value=`Moved selected node ${T.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~w.value.position.x}, y: ${~~w.value.position.y}`,M({x:je[T.key].x,y:je[T.key].y},T.shiftKey))}}}),Fs=Ls,Gs=["transform"],Ys=["width","height","x","y","rx","ry"],Xs=["y"],Us={name:"EdgeText",compatConfig:{MODE:3}},Xi=l.defineComponent({...Us,props:{"aria-activedescendant":null,"aria-atomic":{type:[Boolean,String]},"aria-autocomplete":null,"aria-busy":{type:[Boolean,String]},"aria-checked":{type:[Boolean,String]},"aria-colcount":null,"aria-colindex":null,"aria-colspan":null,"aria-controls":null,"aria-current":{type:[Boolean,String]},"aria-describedby":null,"aria-details":null,"aria-disabled":{type:[Boolean,String]},"aria-dropeffect":null,"aria-errormessage":null,"aria-expanded":{type:[Boolean,String]},"aria-flowto":null,"aria-grabbed":{type:[Boolean,String]},"aria-haspopup":{type:[Boolean,String]},"aria-hidden":{type:[Boolean,String]},"aria-invalid":{type:[Boolean,String]},"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":null,"aria-modal":{type:[Boolean,String]},"aria-multiline":{type:[Boolean,String]},"aria-multiselectable":{type:[Boolean,String]},"aria-orientation":null,"aria-owns":null,"aria-placeholder":null,"aria-posinset":null,"aria-pressed":{type:[Boolean,String]},"aria-readonly":{type:[Boolean,String]},"aria-relevant":null,"aria-required":{type:[Boolean,String]},"aria-roledescription":null,"aria-rowcount":null,"aria-rowindex":null,"aria-rowspan":null,"aria-selected":{type:[Boolean,String]},"aria-setsize":null,"aria-sort":null,"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,innerHTML:null,class:null,style:null,color:null,height:null,id:null,lang:null,max:null,media:null,method:null,min:null,name:null,target:null,type:null,width:null,role:null,tabindex:null,"accent-height":null,accumulate:null,additive:null,"alignment-baseline":null,allowReorder:null,alphabetic:null,amplitude:null,"arabic-form":null,ascent:null,attributeName:null,attributeType:null,autoReverse:null,azimuth:null,baseFrequency:null,"baseline-shift":null,baseProfile:null,bbox:null,begin:null,bias:null,by:null,calcMode:null,"cap-height":null,clip:null,"clip-path":null,clipPathUnits:null,"clip-rule":null,"color-interpolation":null,"color-interpolation-filters":null,"color-profile":null,"color-rendering":null,contentScriptType:null,contentStyleType:null,cursor:null,cx:null,cy:null,d:null,decelerate:null,descent:null,diffuseConstant:null,direction:null,display:null,divisor:null,"dominant-baseline":null,dur:null,dx:null,dy:null,edgeMode:null,elevation:null,"enable-background":null,end:null,exponent:null,externalResourcesRequired:null,fill:null,"fill-opacity":null,"fill-rule":null,filter:null,filterRes:null,filterUnits:null,"flood-color":null,"flood-opacity":null,focusable:null,"font-family":null,"font-size":null,"font-size-adjust":null,"font-stretch":null,"font-style":null,"font-variant":null,"font-weight":null,format:null,from:null,fx:null,fy:null,g1:null,g2:null,"glyph-name":null,"glyph-orientation-horizontal":null,"glyph-orientation-vertical":null,glyphRef:null,gradientTransform:null,gradientUnits:null,hanging:null,"horiz-adv-x":null,"horiz-origin-x":null,href:null,ideographic:null,"image-rendering":null,in2:null,in:null,intercept:null,k1:null,k2:null,k3:null,k4:null,k:null,kernelMatrix:null,kernelUnitLength:null,kerning:null,keyPoints:null,keySplines:null,keyTimes:null,lengthAdjust:null,"letter-spacing":null,"lighting-color":null,limitingConeAngle:null,local:null,"marker-end":null,markerHeight:null,"marker-mid":null,"marker-start":null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,mode:null,numOctaves:null,offset:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,"overline-position":null,"overline-thickness":null,"paint-order":null,"panose-1":null,pathLength:null,patternContentUnits:null,patternTransform:null,patternUnits:null,"pointer-events":null,points:null,pointsAtX:null,pointsAtY:null,pointsAtZ:null,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,r:null,radius:null,refX:null,refY:null,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:null,requiredFeatures:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,"shape-rendering":null,slope:null,spacing:null,specularConstant:null,specularExponent:null,speed:null,spreadMethod:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,"stop-color":null,"stop-opacity":null,"strikethrough-position":null,"strikethrough-thickness":null,string:null,stroke:null,"stroke-dasharray":null,"stroke-dashoffset":null,"stroke-linecap":null,"stroke-linejoin":null,"stroke-miterlimit":null,"stroke-opacity":null,"stroke-width":null,surfaceScale:null,systemLanguage:null,tableValues:null,targetX:null,targetY:null,"text-anchor":null,"text-decoration":null,textLength:null,"text-rendering":null,to:null,transform:null,u1:null,u2:null,"underline-position":null,"underline-thickness":null,unicode:null,"unicode-bidi":null,"unicode-range":null,"unitsPer-em":null,"v-alphabetic":null,values:null,"vector-effect":null,version:null,"vert-adv-y":null,"vert-origin-x":null,"vert-origin-y":null,"v-hanging":null,"v-ideographic":null,viewBox:null,viewTarget:null,visibility:null,"v-mathematical":null,widths:null,"word-spacing":null,"writing-mode":null,x1:null,x2:null,x:null,xChannelSelector:null,"x-height":null,xlinkActuate:null,xlinkArcrole:null,xlinkHref:null,xlinkRole:null,xlinkShow:null,xlinkTitle:null,xlinkType:null,xmlns:null,y1:null,y2:null,y:null,yChannelSelector:null,z:null,zoomAndPan:null,label:null,labelStyle:{default:{}},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:{}},labelBgPadding:{default:[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=l.ref({x:0,y:0,width:0,height:0}),n=l.ref(null),o=l.computed(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);l.onMounted(i),l.watch([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const r=n.value.getBBox();(r.width!==t.value.width||r.height!==t.value.height)&&(t.value=r)}return(r,a)=>(l.openBlock(),l.createElementBlock("g",{transform:l.unref(o),class:"vue-flow__edge-textwrapper"},[e.labelShowBg?(l.openBlock(),l.createElementBlock("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*e.labelBgPadding[0]}px`,height:`${t.value.height+2*e.labelBgPadding[1]}px`,x:-e.labelBgPadding[0],y:-e.labelBgPadding[1],style:l.normalizeStyle(e.labelBgStyle),rx:e.labelBgBorderRadius,ry:e.labelBgBorderRadius},null,12,Ys)):l.createCommentVNode("",!0),l.createElementVNode("text",l.mergeProps(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:e.labelStyle}),[l.renderSlot(r.$slots,"default",{},()=>[l.unref(ye)(e.label)?(l.openBlock(),l.createElementBlock(l.Fragment,{key:1},[l.createTextVNode(l.toDisplayString(e.label),1)],64)):(l.openBlock(),l.createBlock(l.resolveDynamicComponent(e.label),{key:0}))])],16,Xs)],8,Gs))}}),Zs=["id","d","marker-end","marker-start"],Ws=["d","stroke-width"],qs={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},wt=l.defineComponent({...qs,props:{labelStyle:null,labelShowBg:{type:Boolean,default:!0},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,id:null,labelX:null,labelY:null,path:null,label:null,markerStart:null,markerEnd:null,interactionWidth:{default:20},style:null,ref:null},setup(e,{expose:t}){const n=Li(e,["interactionWidth","labelShowBg"]),o=l.ref(null),i=l.ref(null),r=l.ref(null),a=l.useAttrs();return t({pathEl:o,interactionEl:i,labelEl:r}),(u,s)=>(l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createElementVNode("path",{id:e.id,ref_key:"pathEl",ref:o,d:e.path,style:l.normalizeStyle(l.unref(n).style),class:l.normalizeClass(["vue-flow__edge-path",l.unref(a).class]),"marker-end":e.markerEnd,"marker-start":e.markerStart},null,14,Zs),e.interactionWidth?(l.openBlock(),l.createElementBlock("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:e.path,"stroke-width":e.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Ws)):l.createCommentVNode("",!0),e.label&&l.unref(Se)(e.labelX)&&l.unref(Se)(e.labelY)?(l.openBlock(),l.createBlock(Xi,{key:1,ref_key:"labelEl",ref:r,x:e.labelX,y:e.labelY,label:e.label,"label-show-bg":e.labelShowBg,"label-bg-style":e.labelBgStyle,"label-bg-padding":e.labelBgPadding,"label-bg-border-radius":e.labelBgBorderRadius,"label-style":e.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):l.createCommentVNode("",!0)],64))}});function Wn({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,r=n<e?n+i:n-i,a=Math.abs(o-t)/2,u=o<t?o+a:o-a;return[r,u,i,a]}function qn({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:r,targetControlX:a,targetControlY:u}){const s=e*.125+i*.375+a*.375+n*.125,c=t*.125+r*.375+u*.375+o*.125,d=Math.abs(s-e),f=Math.abs(c-t);return[s,c,d,f]}function kt(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ho({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let a,u;switch(e){case q.Left:a=t-kt(t-o,r),u=n;break;case q.Right:a=t+kt(o-t,r),u=n;break;case q.Top:a=t,u=n-kt(n-i,r);break;case q.Bottom:a=t,u=n+kt(i-n,r);break}return[a,u]}function Kn({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:o,targetY:i,targetPosition:r=q.Top,curvature:a=.25}){const[u,s]=Ho({pos:n,x1:e,y1:t,x2:o,y2:i,c:a}),[c,d]=Ho({pos:r,x1:o,y1:i,x2:e,y2:t,c:a}),[f,g,v,k]=qn({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:u,sourceControlY:s,targetControlX:c,targetControlY:d});return[`M${e},${t} C${u},${s} ${c},${d} ${o},${i}`,f,g,v,k]}function Lo({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,a;switch(e){case q.Left:case q.Right:r=.5*(t+o),a=n;break;case q.Top:case q.Bottom:r=t,a=.5*(n+i);break}return[r,a]}function jn({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:o,targetY:i,targetPosition:r=q.Top}){const[a,u]=Lo({pos:n,x1:e,y1:t,x2:o,y2:i}),[s,c]=Lo({pos:r,x1:o,y1:i,x2:e,y2:t}),[d,f,g,v]=qn({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:s,targetControlY:c});return[`M${e},${t} C${a},${u} ${s},${c} ${o},${i}`,d,f,g,v]}const Fo={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}};function Ks({source:e,sourcePosition:t=q.Bottom,target:n}){return t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Go(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function js({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:o=q.Top,center:i,offset:r}){const a=Fo[t],u=Fo[o],s={x:e.x+a.x*r,y:e.y+a.y*r},c={x:n.x+u.x*r,y:n.y+u.y*r},d=Ks({source:s,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",g=d[f];let v,k,h;const p={x:0,y:0},b={x:0,y:0},[m,E,x,M]=Wn({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){k=i.x||m,h=i.y||E;const A=[{x:k,y:s.y},{x:k,y:c.y}],V=[{x:s.x,y:h},{x:c.x,y:h}];a[f]===g?v=f==="x"?A:V:v=f==="x"?V:A}else{const A=[{x:s.x,y:c.y}],V=[{x:c.x,y:s.y}];if(f==="x"?v=a.x===g?V:A:v=a.y===g?A:V,t===o){const X=Math.abs(e[f]-n[f]);if(X<=r){const y=Math.min(r-1,r-X);a[f]===g?p[f]=y:b[f]=y}}if(t!==o){const X=f==="x"?"y":"x",y=a[f]===u[X],$=s[X]>c[X],S=s[X]<c[X];(a[f]===1&&(!y&&$||y&&S)||a[f]!==1&&(!y&&S||y&&$))&&(v=f==="x"?A:V)}const H={x:s.x-p.x,y:s.y-p.y},O={x:c.x-b.x,y:c.y-b.y},Z=Math.max(Math.abs(H.x-v[0].x),Math.abs(O.x-v[0].x)),ee=Math.max(Math.abs(H.y-v[0].y),Math.abs(O.y-v[0].y));Z>=ee?(k=(H.x+O.x)/2,h=v[0].y):(k=v[0].x,h=(H.y+O.y)/2)}return[[e,{x:s.x-p.x,y:s.y-p.y},...v,{x:c.x-b.x,y:c.y-b.y},n],k,h,x,M]}function Js(e,t,n,o){const i=Math.min(Go(e,t)/2,Go(t,n)/2,o),{x:r,y:a}=t;if(e.x===r&&r===n.x||e.y===a&&a===n.y)return`L${r} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${r+i*c},${a}Q ${r},${a} ${r},${a+i*d}`}const u=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return`L ${r},${a+i*s}Q ${r},${a} ${r+i*u},${a}`}function Yt({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:o,targetY:i,targetPosition:r=q.Top,borderRadius:a=5,centerX:u,centerY:s,offset:c=20}){const[d,f,g,v,k]=js({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:i},targetPosition:r,center:{x:u,y:s},offset:c});return[d.reduce((p,b,m)=>{let E;return m>0&&m<d.length-1?E=Js(d[m-1],b,d[m+1],a):E=`${m===0?"M":"L"}${b.x} ${b.y}`,p+=E,p},""),f,g,v,k]}function Ui({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[i,r,a,u]=Wn({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,i,r,a,u]}const Qs=l.defineComponent({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=Kn({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return l.h(wt,{path:n,labelX:o,labelY:i,...t,...e})}}}),Zi=Qs,ec=l.defineComponent({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=jn({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return l.h(wt,{path:n,labelX:o,labelY:i,...t,...e})}}}),Wi=ec,tc=l.defineComponent({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=Yt({...e,sourcePosition:e.sourcePosition??q.Bottom,targetPosition:e.targetPosition??q.Top});return l.h(wt,{path:n,labelX:o,labelY:i,...t,...e})}}}),Jn=tc,nc=l.defineComponent({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>l.h(Jn,{...e,...t,borderRadius:0})}}),qi=nc,oc=l.defineComponent({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=Ui(e);return l.h(wt,{path:n,labelX:o,labelY:i,...t,...e})}}}),Ki=oc;function ic(e,t,n){return n===q.Left?e-t:n===q.Right?e+t:e}function rc(e,t,n){return n===q.Top?e-t:n===q.Bottom?e+t:e}const Qn=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=q.Top,type:i}){return l.h("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:ic(t,e,o),cy:rc(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Qn.props=["radius","centerX","centerY","position","type"];Qn.compatConfig={MODE:3};const Yo=Qn,lc=l.defineComponent({name:"Edge",compatConfig:{MODE:3},props:["name","type","id","updatable","selectable","focusable","edge"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:i,emits:r,nodesSelectionActive:a,noPanClassName:u,getEdgeTypes:s,removeSelectedEdges:c,findEdge:d,findNode:f,isValidConnection:g,multiSelectionActive:v}=ce(),k=Sc(e.edge,r),h=lt(e,"edge"),p=l.ref(!1),b=l.ref(!1),m=l.ref(""),E=l.ref(null),x=l.ref("source"),M=l.ref(null);l.provide(Gi,e.id),l.provide(Yi,M);const w=l.computed(()=>h.value.class instanceof Function?h.value.class(h.value):h.value.class),A=l.computed(()=>h.value.style instanceof Function?h.value.style(h.value):h.value.style),{handlePointerDown:V}=eo({nodeId:m,handleId:E,type:x,isValidConnection:g,edgeUpdaterType:x,onEdgeUpdate:Z,onEdgeUpdateEnd:ee});return()=>{const L=f(h.value.source),j=f(h.value.target);if(!L||!j||!h.value||L.hidden||j.hidden)return null;let T;o.value===ze.Strict?T=L.handleBounds.source:T=[...L.handleBounds.source||[],...L.handleBounds.target||[]];const te=Ao(T,h.value.sourceHandle);let Q;o.value===ze.Strict?Q=j.handleBounds.target:Q=[...j.handleBounds.target||[],...j.handleBounds.source||[]];const oe=Ao(Q,h.value.targetHandle),ne=te?te.position:q.Bottom,Y=oe?oe.position:q.Top,{sourceX:ie,sourceY:se,targetY:de,targetX:he}=Ns(L,te,ne,j,oe,Y);return h.value.sourceX=ie,h.value.sourceY=se,h.value.targetX=he,h.value.targetY=de,l.h("g",{ref:M,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${e.type===!1?"default":e.name}`,u.value,w.value,{updating:p.value,selected:h.value.selected,animated:h.value.animated,inactive:!e.selectable}],onClick:y,onContextmenu:$,onDblclick:S,onMouseenter:I,onMousemove:D,onMouseleave:G,onKeyDown:e.focusable?K:void 0,tabIndex:e.focusable?0:void 0,"aria-label":h.value.ariaLabel===null?void 0:h.value.ariaLabel||`Edge from ${h.value.source} to ${h.value.target}`,"aria-describedby":e.focusable?`${Ci}-${t}`:void 0,role:e.focusable?"button":"img"},[b.value?null:l.h(e.type===!1?s.value.default:e.type,{id:e.id,sourceNode:L,targetNode:j,source:h.value.source,target:h.value.target,type:h.value.type,updatable:e.updatable,selected:h.value.selected,animated:h.value.animated,label:h.value.label,labelStyle:h.value.labelStyle,labelShowBg:h.value.labelShowBg,labelBgStyle:h.value.labelBgStyle,labelBgPadding:h.value.labelBgPadding,labelBgBorderRadius:h.value.labelBgBorderRadius,data:h.value.data,events:{...h.value.events,...k.on},style:A.value,markerStart:`url(#${Oe(h.value.markerStart,t)})`,markerEnd:`url(#${Oe(h.value.markerEnd,t)})`,sourcePosition:ne,targetPosition:Y,sourceX:ie,sourceY:se,targetX:he,targetY:de,sourceHandleId:h.value.sourceHandle,targetHandleId:h.value.targetHandle,interactionWidth:h.value.interactionWidth}),[e.updatable==="source"||e.updatable===!0?[l.h("g",{onMousedown:P,onMouseenter:H,onMouseout:O},l.h(Yo,{position:ne,centerX:ie,centerY:se,radius:i.value,type:"source","data-type":"source"}))]:null,e.updatable==="target"||e.updatable===!0?[l.h("g",{onMousedown:U,onMouseenter:H,onMouseout:O},l.h(Yo,{position:Y,centerX:he,centerY:de,radius:i.value,type:"target","data-type":"target"}))]:null]])};function H(){p.value=!0}function O(){p.value=!1}function Z(L,j){k.emit.update({event:L,edge:h.value,connection:j})}function ee(L){k.emit.updateEnd({event:L,edge:h.value}),b.value=!1}function X(L,j){L.button===0&&(b.value=!0,m.value=j?h.value.target:h.value.source,E.value=(j?h.value.targetHandle:h.value.sourceHandle)??"",x.value=j?"target":"source",k.emit.updateStart({event:L,edge:h.value}),V(L))}function y(L){var T;const j={event:L,edge:h.value};e.selectable&&(a.value=!1,h.value.selected&&v.value?(c([h.value]),(T=M.value)==null||T.blur()):n([h.value])),k.emit.click(j)}function $(L){k.emit.contextMenu({event:L,edge:h.value})}function S(L){k.emit.doubleClick({event:L,edge:h.value})}function I(L){k.emit.mouseEnter({event:L,edge:h.value})}function D(L){k.emit.mouseMove({event:L,edge:h.value})}function G(L){k.emit.mouseLeave({event:L,edge:h.value})}function P(L){X(L,!0)}function U(L){X(L,!1)}function K(L){var j;Mi.includes(L.key)&&e.selectable&&(L.key==="Escape"?((j=M.value)==null||j.blur(),c([d(e.id)])):n([d(e.id)]))}}}),ac=lc,uc={height:"0",width:"0"},sc={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},cc=l.defineComponent({...sc,setup(e){const{viewportRef:t}=ce(),n=Pt(()=>t.value.getElementsByClassName("vue-flow__edge-labels")[0]);return(o,i)=>(l.openBlock(),l.createElementBlock("svg",null,[(l.openBlock(),l.createElementBlock("foreignObject",uc,[(l.openBlock(),l.createBlock(l.Teleport,{to:l.unref(n),disabled:!l.unref(n)},[l.renderSlot(o.$slots,"default")],8,["to","disabled"]))]))]))}}),dc={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top},fc=l.defineComponent({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var f;const{connectionMode:e,connectionStartHandle:t,connectionEndHandle:n,connectionPosition:o,connectionLineType:i,connectionLineStyle:r,connectionLineOptions:a,connectionStatus:u,viewport:s,findNode:c}=ce(),d=(f=l.inject(nn))==null?void 0:f["connection-line"];return()=>{var X,y,$,S;if(!t.value)return null;const g=c(t.value.nodeId);if(!g)return null;const v=t.value.handleId,k=t.value.type,h=((X=n.value)==null?void 0:X.handleId)&&c(n.value.nodeId)||null,p=(o.value.x-s.value.x)/s.value.zoom,b=(o.value.y-s.value.y)/s.value.zoom,m=g.handleBounds;let E=m==null?void 0:m[k];if(e.value===ze.Loose&&(E=E||(m==null?void 0:m[k==="source"?"target":"source"])),!E)return null;const x=(v?E.find(I=>I.id===v):E[0])??null,M=(x==null?void 0:x.position)||q.Top,{x:w,y:A}=Mn(M,{...g.dimensions,...g.computedPosition},x),V=h&&((y=n.value)==null?void 0:y.handleId)&&((e.value===ze.Strict?($=h.handleBounds[k==="source"?"target":"source"])==null?void 0:$.find(I=>{var D;return I.id===((D=n.value)==null?void 0:D.handleId)}):[...h.handleBounds.source||[],...h.handleBounds.target||[]].find(I=>{var D;return I.id===((D=n.value)==null?void 0:D.handleId)}))||((S=h.handleBounds[k??"target"])==null?void 0:S[0]))||null,H=M?dc[M]:null;if(!M||!H)return null;const O=i.value??a.value.type;let Z="";const ee={sourceX:w,sourceY:A,sourcePosition:M,targetX:p,targetY:b,targetPosition:H};return O===Le.Bezier?[Z]=Kn(ee):O===Le.Step?[Z]=Yt({...ee,borderRadius:0}):O===Le.SmoothStep?[Z]=Yt(ee):O===Le.SimpleBezier?[Z]=jn(ee):Z=`M${w},${A} ${p},${b}`,l.h("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},l.h("g",{class:"vue-flow__connection"},d?l.h(d,{sourceX:w,sourceY:A,sourcePosition:M,targetX:p,targetY:b,targetPosition:H,sourceNode:g,sourceHandle:x,targetNode:h,targetHandle:V,markerEnd:`url(#${Oe(a.value.markerEnd)})`,markerStart:`url(#${Oe(a.value.markerStart)})`,connectionStatus:u.value}):l.h("path",{d:Z,class:[a.value.class,u,"vue-flow__connection-path"],style:r.value||a.value.style,"marker-end":`url(#${Oe(a.value.markerEnd)})`,"marker-start":`url(#${Oe(a.value.markerStart)})`})))}}}),hc=fc,gc=["tabIndex"],pc={name:"NodesSelection",compatConfig:{MODE:3}},mc=l.defineComponent({...pc,setup(e){const t=ce(),n=l.toRef(t,"emits"),o=l.toRef(t,"viewport"),i=l.toRef(t,"getSelectedNodes"),r=l.toRef(t,"noPanClassName"),a=l.toRef(t,"disableKeyboardA11y"),u=l.toRef(t,"userSelectionActive"),s=nr(),c=l.ref(null),d=Hi({el:c,onStart(h){n.value.selectionDragStart(h)},onDrag(h){n.value.selectionDrag(h)},onStop(h){n.value.selectionDragStop(h)}});l.onMounted(()=>{var h;a.value||(h=c.value)==null||h.focus({preventScroll:!0})});const f=l.computed(()=>Fn(i.value)),g=l.computed(()=>({width:`${f.value.width}px`,height:`${f.value.height}px`,top:`${f.value.y}px`,left:`${f.value.x}px`}));function v(h){n.value.selectionContextMenu({event:h,nodes:i.value})}function k(h){a.value||je[h.key]&&s({x:je[h.key].x,y:je[h.key].y},h.shiftKey)}return(h,p)=>!l.unref(u)&&l.unref(f).width&&l.unref(f).height?(l.openBlock(),l.createElementBlock("div",{key:0,class:l.normalizeClass(["vue-flow__nodesselection vue-flow__container",l.unref(r)]),style:l.normalizeStyle({transform:`translate(${l.unref(o).x}px,${l.unref(o).y}px) scale(${l.unref(o).zoom})`})},[l.createElementVNode("div",{ref_key:"el",ref:c,class:l.normalizeClass([{dragging:l.unref(d)},"vue-flow__nodesselection-rect"]),style:l.normalizeStyle(l.unref(g)),tabIndex:l.unref(a)?void 0:-1,onContextmenu:v,onKeydown:k},null,46,gc)],6)):l.createCommentVNode("",!0)}}),vc={name:"UserSelection",compatConfig:{MODE:3}},yc=l.defineComponent({...vc,props:{userSelectionRect:null},setup(e){return(t,n)=>(l.openBlock(),l.createElementBlock("div",{class:"vue-flow__selection vue-flow__container",style:l.normalizeStyle({width:`${e.userSelectionRect.width}px`,height:`${e.userSelectionRect.height}px`,transform:`translate(${e.userSelectionRect.x}px, ${e.userSelectionRect.y}px)`})},null,4))}}),ji={input:Vs,default:Rs,output:Hs},Ji={default:Zi,straight:Ki,step:qi,smoothstep:Jn,simplebezier:Wi};function xc(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:qt.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ke.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Le.Bezier,style:{}},connectionMode:ze.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:NaN,y:NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Gt()?"Meta":"Control",zoomActivationKeyCode:Gt()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Os(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,disableKeyboardA11y:!1,ariaLiveMessage:"",__experimentalFeatures:{nestedFlow:!1}}}function Qi(e){const t=xc();return e&&Object.keys(e).forEach(n=>{const o=e[n];ue(o)&&(t[n]=o)}),t}function wc(e,t,n,o,i,r,a){const u=or(o,i),s=_=>{const C=_??r.value??[];o.hooks.updateNodeInternals.trigger(C)},c=_=>Ii(_,o.nodes,o.edges),d=_=>Pi(_,o.nodes,o.edges),f=_=>xt(_,o.edges),g=_=>{if(_)return o.nodes&&!r.value.length?o.nodes.find(C=>C.id===_):o.nodes[r.value.indexOf(_)]},v=_=>{if(_)return o.edges&&!a.value.length?o.edges.find(C=>C.id===_):o.edges[a.value.indexOf(_)]},k=(_,C,F)=>{const N=[];_.forEach(B=>{var W,re;const z={id:B.id,type:"position",dragging:F,from:B.from};if(C&&(z.position=B.position,B.parentNode)){const J=g(B.parentNode);z.position={x:z.position.x-(((W=J==null?void 0:J.computedPosition)==null?void 0:W.x)??0),y:z.position.y-(((re=J==null?void 0:J.computedPosition)==null?void 0:re.y)??0)}}N.push(z)}),N!=null&&N.length&&o.hooks.nodesChange.trigger(N)},h=_=>{var B;if(!o.vueFlowRef)return;const C=o.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!C)return;let F;if((B=o.__experimentalFeatures)!=null&&B.nestedFlow){let z=[C],W=C,re;for(;!re&&W;)W=W.parentElement,re=W==null?void 0:W.classList.contains("vue-flow__transformationpane"),re&&(z=[W,...z]);z.forEach(J=>{const ae=window.getComputedStyle(J),{m22:pe}=new window.DOMMatrixReadOnly(ae.transform);F?F*=pe:F=pe})}else{const z=window.getComputedStyle(C),{m22:W}=new window.DOMMatrixReadOnly(z.transform);F=W}const N=_.reduce((z,W)=>{const re=g(W.id);if(re){const J=Kt(W.nodeElement);!!(J.width&&J.height&&(re.dimensions.width!==J.width||re.dimensions.height!==J.height||W.forceUpdate))&&(re.handleBounds.source=Ro(".source",W.nodeElement,F),re.handleBounds.target=Ro(".target",W.nodeElement,F),re.dimensions=J,re.initialized=!0,z.push({id:re.id,type:"dimensions",dimensions:J}))}return z},[]);N.length&&o.hooks.nodesChange.trigger(N)},p=(_,C)=>{const F=_.map(z=>z.id);let N,B=[];if(o.multiSelectionActive)N=F.map(z=>Me(z,C));else{const z=sn([...o.nodes,...o.edges],F);N=z.changedNodes,B=z.changedEdges}N.length&&o.hooks.nodesChange.trigger(N),B.length&&o.hooks.edgesChange.trigger(B)},b=(_,C)=>{const F=_.map(z=>z.id);let N=[],B;if(o.multiSelectionActive)B=F.map(z=>Me(z,C));else{const z=sn([...o.nodes,...o.edges],F);N=z.changedNodes,B=z.changedEdges}N.length&&o.hooks.nodesChange.trigger(N),B.length&&o.hooks.edgesChange.trigger(B)},m=(_,C)=>{const F=_.filter(De).map(W=>W.id),N=_.filter(_e).map(W=>W.id);let{changedNodes:B,changedEdges:z}=sn([...o.nodes,...o.edges],[...F,...N]);o.multiSelectionActive&&(B=F.map(W=>Me(W,C)),z=N.map(W=>Me(W,C))),B.length&&o.hooks.nodesChange.trigger(B),z.length&&o.hooks.edgesChange.trigger(z)},E=_=>{p(_,!0)},x=_=>{b(_,!0)},M=_=>{m(_,!0)},w=_=>{if(!_.length)return p(_,!1);const F=_.map(N=>N.id).map(N=>Me(N,!1));F.length&&o.hooks.nodesChange.trigger(F)},A=_=>{if(!_.length)return b(_,!1);const F=_.map(N=>N.id).map(N=>Me(N,!1));F.length&&o.hooks.edgesChange.trigger(F)},V=_=>{if(!_||!_.length)return m([],!1);const C=_.reduce((F,N)=>{const B=Me(N.id,!1);return De(N)?F.nodes.push(B):F.edges.push(B),F},{nodes:[],edges:[]});C.nodes.length&&o.hooks.nodesChange.trigger(C.nodes),C.edges.length&&o.hooks.edgesChange.trigger(C.edges)},H=_=>{var C;(C=o.d3Zoom)==null||C.scaleExtent([_,o.maxZoom]),o.minZoom=_},O=_=>{var C;(C=o.d3Zoom)==null||C.scaleExtent([o.minZoom,_]),o.maxZoom=_},Z=_=>{var C;(C=o.d3Zoom)==null||C.translateExtent(_),o.translateExtent=_},ee=_=>{o.nodeExtent=_,s(r.value)},X=_=>{o.nodesDraggable=_,o.nodesConnectable=_,o.elementsSelectable=_},y=_=>{const C=_ instanceof Function?_(o.nodes):_;!o.initialized&&!C.length||(o.nodes=Vo(C,o.nodes,g,o.hooks.error.trigger))},$=_=>{const C=_ instanceof Function?_(o.edges):_;if(!o.initialized&&!C.length)return;const F=o.isValidConnection?C.filter(N=>o.isValidConnection(N,{edges:o.edges,sourceNode:g(N.source),targetNode:g(N.target)})):C;o.edges=F.reduce((N,B)=>{const z=g(B.source),W=g(B.target),re=!z||typeof z>"u",J=!W||typeof W>"u";if(re&&J?o.hooks.error.trigger(new ge(fe.EDGE_SOURCE_TARGET_MISSING,B.id,B.source,B.target)):(re&&o.hooks.error.trigger(new ge(fe.EDGE_SOURCE_MISSING,B.id,B.source)),J&&o.hooks.error.trigger(new ge(fe.EDGE_TARGET_MISSING,B.id,B.target))),re||J)return N;const ae=v(B.id);return N.push({...Hn(B,Object.assign({},ae,o.defaultEdgeOptions)),sourceNode:z,targetNode:W}),N},[])},S=_=>{const C=_ instanceof Function?_([...o.nodes,...o.edges]):_;!o.initialized&&!C.length||(y(C.filter(De)),$(C.filter(_e)))},I=_=>{let C=_ instanceof Function?_(o.nodes):_;C=Array.isArray(C)?C:[C];const N=Vo(C,o.nodes,g,o.hooks.error.trigger).map(Bo);N.length&&o.hooks.nodesChange.trigger(N)},D=_=>{let C=_ instanceof Function?_(o.edges):_;C=Array.isArray(C)?C:[C];const N=(o.isValidConnection?C.filter(B=>o.isValidConnection(B,{edges:o.edges,sourceNode:g(B.source),targetNode:g(B.target)})):C).reduce((B,z)=>{const W=Ps({...z,...o.defaultEdgeOptions},o.edges,o.hooks.error.trigger);if(W){const re=g(W.source),J=g(W.target),ae=!re||typeof re>"u",pe=!J||typeof J>"u";if(ae&&pe)return o.hooks.error.trigger(new ge(fe.EDGE_SOURCE_TARGET_MISSING,W.id,W.source,W.target)),B;if(ae)return o.hooks.error.trigger(new ge(fe.EDGE_SOURCE_MISSING,W.id,W.source)),B;if(pe)return o.hooks.error.trigger(new ge(fe.EDGE_TARGET_MISSING,W.id,W.target)),B;B.push(Bo({...W,sourceNode:re,targetNode:J}))}return B},[]);N.length&&o.hooks.edgesChange.trigger(N)},G=(_,C=!0,F=!1)=>{let N=_ instanceof Function?_(o.nodes):_;N=Array.isArray(N)?N:[N];const B=[],z=[];function W(J){const ae=f(J).filter(pe=>ue(pe.deletable)?pe.deletable:!0);z.push(...ae.map(pe=>Io(pe.id,pe.source,pe.target)))}function re(J){const ae=o.nodes.filter(pe=>pe.parentNode===J);if(ae.length){const pe=ae.map(Ve=>Ve.id);B.push(...pe.map(Ve=>Po(Ve))),C&&W(ae),ae.forEach(Ve=>{re(Ve.id)})}}N.forEach(J=>{const ae=typeof J=="string"?g(J):J;ae&&(ue(ae.deletable)&&!ae.deletable||(B.push(Po(ae.id)),C&&W([ae]),F&&re(ae.id)))}),z.length&&o.hooks.edgesChange.trigger(z),B.length&&o.hooks.nodesChange.trigger(B)},P=_=>{let C=_ instanceof Function?_(o.edges):_;C=Array.isArray(C)?C:[C];const F=[];C.forEach(N=>{const B=typeof N=="string"?v(N):N;B&&(ue(B.deletable)&&!B.deletable||F.push(Io(typeof N=="string"?N:N.id,B.source,B.target)))}),o.hooks.edgesChange.trigger(F)},U=(_,C,F=!0)=>Is(_,C,o.edges,v,F,o.hooks.error.trigger),K=_=>ht(_,o.nodes),L=_=>ht(_,o.edges),j=(_,C,F,N=!1)=>{N?o.connectionClickStartHandle=_:o.connectionStartHandle=_,o.connectionEndHandle=null,o.connectionStatus=null,C&&(o.connectionPosition=C)},T=(_,C=null,F=null)=>{o.connectionStartHandle&&(o.connectionPosition=_,o.connectionEndHandle=C,o.connectionStatus=F)},te=(_,C)=>{o.connectionPosition={x:NaN,y:NaN},o.connectionEndHandle=null,o.connectionStatus=null,C?o.connectionClickStartHandle=null:o.connectionStartHandle=null},Q=_=>{const C=hs(_),F=C?null:g(_.id);return!C&&!F?[null,null,C]:[C?_:Mo(F),F,C]},oe=(_,C=!0,F)=>{const[N,B,z]=Q(_);return N?(F||o.nodes).filter(W=>{if(!z&&(W.id===B.id||!W.computedPosition))return!1;const re=Mo(W),J=kn(re,N);return C&&J>0||J>=Number(_.width)*Number(_.height)}):[]},ne=(_,C,F=!0)=>{const[N]=Q(_);if(!N)return!1;const B=kn(N,C);return F&&B>0||B>=Number(_.width)*Number(_.height)},Y=_=>{const{viewport:C,dimensions:F,d3Zoom:N,d3Selection:B,translateExtent:z}=o;if(!N||!B||!_.x&&!_.y)return!1;const W=et.translate(C.x+_.x,C.y+_.y).scale(C.zoom),re=[[0,0],[F.width,F.height]],J=N.constrain()(W,re,z),ae=o.viewport.x!==J.x||o.viewport.y!==J.y||o.viewport.zoom!==J.k;return N.transform(B,J),ae},ie=_=>{const C=_ instanceof Function?_(o):_,F=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent","nodeExtent","hooks","defaultEdgeOptions"],N=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];ue(C.defaultEdgeOptions)&&(o.defaultEdgeOptions=C.defaultEdgeOptions);const B=C.modelValue||C.nodes||C.edges?[]:void 0;B&&(C.modelValue&&B.push(...C.modelValue),C.nodes&&B.push(...C.nodes),C.edges&&B.push(...C.edges),S(B));const z=()=>{ue(C.maxZoom)&&O(C.maxZoom),ue(C.minZoom)&&H(C.minZoom),ue(C.translateExtent)&&Z(C.translateExtent),ue(C.nodeExtent)&&ee(C.nodeExtent)};Object.keys(C).forEach(W=>{const re=W,J=C[re];![...F,...N].includes(re)&&ue(J)&&(o[re]=J)}),o.d3Zoom?z():Ae(()=>o.d3Zoom).not.toBeUndefined().then(z),o.initialized||(o.initialized=!0)},Be={updateNodePositions:k,updateNodeDimensions:h,setElements:S,setNodes:y,setEdges:$,addNodes:I,addEdges:D,removeNodes:G,removeEdges:P,findNode:g,findEdge:v,updateEdge:U,applyEdgeChanges:L,applyNodeChanges:K,addSelectedElements:M,addSelectedNodes:E,addSelectedEdges:x,setMinZoom:H,setMaxZoom:O,setTranslateExtent:Z,setNodeExtent:ee,removeSelectedElements:V,removeSelectedNodes:w,removeSelectedEdges:A,startConnection:j,updateConnection:T,endConnection:te,setInteractive:X,setState:ie,getIntersectingNodes:oe,getIncomers:c,getOutgoers:d,getConnectedEdges:f,isNodeIntersecting:ne,panBy:Y,fitView:_=>u.value.fitView(_),zoomIn:_=>u.value.zoomIn(_),zoomOut:_=>u.value.zoomOut(_),zoomTo:(_,C)=>u.value.zoomTo(_,C),setViewport:(_,C)=>u.value.setViewport(_,C),setTransform:(_,C)=>u.value.setTransform(_,C),getViewport:()=>u.value.getViewport(),getTransform:()=>u.value.getTransform(),setCenter:(_,C,F)=>u.value.setCenter(_,C,F),fitBounds:(_,C)=>u.value.fitBounds(_,C),project:_=>u.value.project(_),toObject:()=>JSON.parse(JSON.stringify({nodes:o.nodes.map(_=>{const{computedPosition:C,handleBounds:F,selected:N,dimensions:B,isParent:z,resizing:W,dragging:re,initialized:J,...ae}=_;return ae}),edges:o.edges.map(_=>{const{selected:C,sourceNode:F,targetNode:N,...B}=_;return B}),position:[o.viewport.x,o.viewport.y],zoom:o.viewport.zoom,viewport:o.viewport})),fromObject:_=>{const{nodes:C,edges:F,position:N,zoom:B,viewport:z}=_;if(C&&y(C),F&&$(F),z!=null&&z.x&&(z!=null&&z.y)||N){const W=(z==null?void 0:z.x)||N[0],re=(z==null?void 0:z.y)||N[1],J=(z==null?void 0:z.zoom)||B||o.viewport.zoom;Ae(()=>u.value.initialized).toBe(!0).then(()=>{u.value.setViewport({x:W,y:re,zoom:J})})}},updateNodeInternals:s,$reset:()=>{const _=Qi();if(o.edges=[],o.nodes=[],o.d3Zoom&&o.d3Selection){const C=et.translate(_.defaultViewport.x??0,_.defaultViewport.y??0).scale(Re(_.defaultViewport.zoom??1,_.minZoom,_.maxZoom)),F=o.viewportRef.getBoundingClientRect(),N=[[0,0],[F.width,F.height]],B=o.d3Zoom.constrain()(C,N,_.translateExtent);o.d3Zoom.transform(o.d3Selection,B)}ie(_)},$destroy:()=>{}};return Ae(()=>u.value.initialized).toBe(!0,{flush:"pre"}).then(()=>{o.fitViewOnInit&&u.value.fitView(),o.hooks.paneReady.trigger({id:e,emits:t,vueFlowVersion:"1.23.0",...n,...o,...i,...Be})}),Be}function _c(e,t,n){const o=l.computed(()=>p=>e.nodes&&!t.value.length?e.nodes.find(b=>b.id===p):e.nodes[t.value.indexOf(p)]),i=l.computed(()=>p=>e.edges&&!n.value.length?e.edges.find(b=>b.id===p):e.edges[n.value.indexOf(p)]),r=l.computed(()=>{var m;const p={...Ji,...e.edgeTypes},b=Object.keys(p);return(m=e.edges)==null||m.forEach(E=>E.type&&!b.includes(E.type)&&(p[E.type]=E.type)),p}),a=l.computed(()=>{var m;const p={...ji,...e.nodeTypes},b=Object.keys(p);return(m=e.nodes)==null||m.forEach(E=>E.type&&!b.includes(E.type)&&(p[E.type]=E.type)),p}),u=l.computed(()=>{const p=e.nodes.filter(b=>!b.hidden);return e.onlyRenderVisibleElements?p&&Gn(p,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):p??[]}),s=(p,b,m)=>{if(b=b??o.value(p.source),m=m??o.value(p.target),!b||!m){e.hooks.error.trigger(new ge(fe.EDGE_ORPHANED,p.id));return}return!p.hidden&&!m.hidden&&!b.hidden},c=l.computed(()=>e.onlyRenderVisibleElements?e.edges.filter(p=>{const b=o.value(p.source),m=o.value(p.target);return s(p,b,m)&&ks({sourcePos:b.computedPosition||{x:0,y:0},targetPos:m.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:m.dimensions.width,targetHeight:m.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(p=>s(p))),d=l.computed(()=>[...u.value,...c.value]),f=l.computed(()=>e.nodes.filter(p=>p.selected)),g=l.computed(()=>e.edges.filter(p=>p.selected)),v=l.computed(()=>[...f.value??[],...g.value??[]]),k=l.computed(()=>u.value.filter(p=>p.initialized&&p.handleBounds!==void 0)),h=l.computed(()=>u.value.length>0&&k.value.length===u.value.length);return{getNode:o,getEdge:i,getElements:d,getEdgeTypes:r,getNodeTypes:a,getEdges:c,getNodes:u,getSelectedElements:v,getSelectedNodes:f,getSelectedEdges:g,getNodesInitialized:k,areNodesInitialized:h}}class Ge{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return Ge.instance||(Ge.instance=new Ge),Ge.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Qi(n),i=l.reactive(o),r={};Object.entries(i.hooks).forEach(([g,v])=>{const k=`on${g.charAt(0).toUpperCase()+g.slice(1)}`;r[k]=v.on});const a={};Object.entries(i.hooks).forEach(([g,v])=>{a[g]=v.trigger});const u=l.computed(()=>i.nodes.map(g=>g.id)),s=l.computed(()=>i.edges.map(g=>g.id)),c=_c(i,u,s),d=wc(t,a,r,i,c,u,s);d.setState(i);const f={...r,...c,...d,...pr(i),emits:a,id:t,vueFlowVersion:"1.23.0",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}}function ce(e){const t=Ge.getInstance(),n=l.getCurrentScope(),o=e==null?void 0:e.id,i=(n==null?void 0:n.vueFlowId)||o;let r;if(n){const a=l.inject(Tn,null);typeof a<"u"&&a!==null&&(r=a)}if(r||i&&(r=t.get(i)),!r||r&&o&&o!==r.id){const a=o??t.getId(),u=t.create(a,e);r=u,l.effectScope().run(()=>{l.watch(u.applyDefault,c=>{const d=g=>{u.applyNodeChanges(g)},f=g=>{u.applyEdgeChanges(g)};c?(u.onNodesChange(d),u.onEdgesChange(f)):(u.hooks.value.nodesChange.off(d),u.hooks.value.edgesChange.off(f))},{immediate:!0}),mt(()=>{if(r){const c=t.get(r.id);c?c.$destroy():gt(`No store instance found for id ${r.id} in storage.`)}})})}else e&&r.setState(e);return n&&(l.provide(Tn,r),n.vueFlowId=r.id),r}function bc(e){const t=e??l.inject(Gi,""),n=l.inject(Yi,l.ref(null)),{findEdge:o,emits:i}=ce(),r=o(t);return r||i.error(new ge(fe.EDGE_NOT_FOUND,t)),{id:t,edge:r,edgeEl:n}}function Ec(){return{doubleClick:R(),click:R(),mouseEnter:R(),mouseMove:R(),mouseLeave:R(),contextMenu:R(),updateStart:R(),update:R(),updateEnd:R()}}function Sc(e,t){const n=Ec();return n.doubleClick.on(o=>{var i,r;t.edgeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.edgeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.edgeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.edgeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.edgeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.edgeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.updateStart.on(o=>{var i,r;t.edgeUpdateStart(o),(r=(i=e.events)==null?void 0:i.updateStart)==null||r.call(i,o)}),n.update.on(o=>{var i,r;t.edgeUpdate(o),(r=(i=e.events)==null?void 0:i.update)==null||r.call(i,o)}),n.updateEnd.on(o=>{var i,r;t.edgeUpdateEnd(o),(r=(i=e.events)==null?void 0:i.updateEnd)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function er(){const{viewport:e,snapGrid:t,snapToGrid:n}=ce();return({sourceEvent:o})=>{const i=o.touches?o.touches[0].clientX:o.clientX,r=o.touches?o.touches[0].clientY:o.clientY,a={x:(i-e.value.x)/e.value.zoom,y:(r-e.value.y)/e.value.zoom};return{xSnapped:n.value?t.value[0]*Math.round(a.x/t.value[0]):a.x,ySnapped:n.value?t.value[1]*Math.round(a.y/t.value[1]):a.y,...a}}}function Ct(){return!0}function eo({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:i,onEdgeUpdate:r,onEdgeUpdateEnd:a}){const{vueFlowRef:u,connectionMode:s,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:g,autoPanOnConnect:v,findNode:k,panBy:h,getNodes:p,startConnection:b,updateConnection:m,endConnection:E,emits:x,viewport:M,edges:w,isValidConnection:A}=ce();let V=null,H=!1,O=null;function Z(X){var I;const y=le(n)==="target",$=Xn(X),S=$o(X.target);if($&&X.button===0||!$){let D=function(he){Y=Xe(he,oe);const{handle:Be,validHandleResult:_}=Ms(he,S,Lt(Y,M.value,!1,[1,1]),c.value,se,C=>zo(he,C,s.value,le(t),le(e),y?"target":"source",U,S,w.value,k));if(K=Be,ie||(de(),ie=!0),V=_.connection,H=_.isValid,O=_.handleDomNode,m(K&&H?Jt({x:K.x,y:K.y},M.value):Y,_.endHandle,Ts(!!K,H)),!K&&!H&&!O)return hn(ne);V&&V.source!==V.target&&O&&(hn(ne),ne=O,O.classList.add("connecting","vue-flow__handle-connecting"),O.classList.toggle("valid",H),O.classList.toggle("vue-flow__handle-valid",H))},G=function(he){(K||O)&&V&&H&&(r?r(he,V):x.connect(V)),x.connectEnd(he),i&&(a==null||a(he)),hn(ne),cancelAnimationFrame(L),E(he),ie=!1,H=!1,V=null,O=null,S.removeEventListener("mousemove",D),S.removeEventListener("mouseup",G),S.removeEventListener("touchmove",D),S.removeEventListener("touchend",G)};const P=k(le(t));let U=le(o)||A.value||Ct;!U&&P&&(U=(y?P.isValidSourcePos:P.isValidTargetPos)||Ct);let K,L=0;const{x:j,y:T}=Xe(X),te=S==null?void 0:S.elementFromPoint(j,T),Q=Un(le(i),te),oe=(I=u.value)==null?void 0:I.getBoundingClientRect();if(!oe||!Q)return;let ne,Y=Xe(X,oe),ie=!1;const se=$s({nodes:p.value,nodeId:le(t),handleId:le(e),handleType:Q}),de=()=>{if(!v)return;const[he,Be]=zi(Y,oe);h({x:he,y:Be}),L=requestAnimationFrame(de)};b({nodeId:le(t),handleId:le(e),type:Q},{x:j-oe.left,y:T-oe.top},X),x.connectStart({event:X,nodeId:le(t),handleId:le(e),handleType:Q}),S.addEventListener("mousemove",D),S.addEventListener("mouseup",G),S.addEventListener("touchmove",D),S.addEventListener("touchend",G)}}function ee(X){if(!d.value)return;const y=le(n)==="target";if(!f.value)x.clickConnectStart({event:X,nodeId:le(t),handleId:le(e)}),b({nodeId:le(t),type:le(n),handleId:le(e)},void 0,X,!0);else{let $=le(o)||A.value||Ct;const S=k(le(t));if(!$&&S&&($=(y?S.isValidSourcePos:S.isValidTargetPos)||Ct),S&&(typeof S.connectable>"u"?g.value:S.connectable)===!1)return;const I=$o(X.target),{connection:D,isValid:G}=zo(X,{nodeId:le(t),id:le(e),type:le(n)},s.value,f.value.nodeId,f.value.handleId||null,f.value.type,$,I,w.value,k),P=D.source===D.target;G&&!P&&x.connect(D),x.clickConnectEnd(X),E(X,!0)}}return{handlePointerDown:Z,handleClick:ee}}function to(){return typeof window<"u"?window:{chrome:!1}}function Bn(e){var i,r;const t=((r=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:r[0])||e.target,n=tt(t.hasAttribute)?t.hasAttribute("contenteditable"):!1,o=tt(t.closest)?t.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||n||!!o}function Nc(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Xo(e,t,n,o){const i=t.split("+").map(r=>r.trim().toLowerCase());return i.length===1?e===t:(o?n.delete(e.toLowerCase()):n.add(e.toLowerCase()),i.every((r,a)=>n.has(r)&&Array.from(n.values())[a]===i[a]))}function kc(e,t){return n=>Array.isArray(e)?e.some(o=>Xo(n.key,o,t,n.type==="keyup")):Xo(n.key,e,t,n.type==="keyup")}function at(e,t){const n=to(),o=l.ref(le(e)===!0);let i=!1;const r=new Set;return l.watch(o,()=>{t==null||t(o.value)}),l.watch(()=>le(e),(u,s)=>{if(n&&typeof n.addEventListener<"u"&&In(n,"blur",()=>{o.value=!1}),fn(s)&&!fn(u)&&a(),u===null){a();return}if(fn(u)){o.value=u;return}(Array.isArray(u)||ye(u)&&u.includes("+"))&&(u=kc(u,r)),u&&(ao(u,c=>{i=Nc(c),!(!i&&Bn(c))&&(c.preventDefault(),o.value=!0)},{eventName:"keydown"}),ao(u,c=>{if(o.value){if(!i&&Bn(c))return;a()}},{eventName:"keyup"}))},{immediate:!0}),o;function a(){i=!1,r.clear(),o.value=!1}}function tr(e){const t=e??l.inject(Zn,""),n=l.inject(Fi,l.ref(null)),{findNode:o,edges:i,emits:r}=ce(),a=o(t);return a||r.error(new ge(fe.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:l.computed(()=>o(a.parentNode)),connectedEdges:l.computed(()=>xt([a],i.value))}}function Cc(){return{doubleClick:R(),click:R(),mouseEnter:R(),mouseMove:R(),mouseLeave:R(),contextMenu:R(),dragStart:R(),drag:R(),dragStop:R()}}function Mc(e,t){const n=Cc();return n.doubleClick.on(o=>{var i,r;t.nodeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.nodeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.nodeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.nodeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.nodeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.nodeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.dragStart.on(o=>{var i,r;t.nodeDragStart(o),(r=(i=e.events)==null?void 0:i.dragStart)==null||r.call(i,o)}),n.drag.on(o=>{var i,r;t.nodeDrag(o),(r=(i=e.events)==null?void 0:i.drag)==null||r.call(i,o)}),n.dragStop.on(o=>{var i,r;t.nodeDragStop(o),(r=(i=e.events)==null?void 0:i.dragStop)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function nr(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:i,snapToGrid:r,nodesDraggable:a,emits:u}=ce();return(s,c=!1)=>{const d=r.value?i.value[0]:5,f=r.value?i.value[1]:5,g=c?4:1,v=s.x*d*g,k=s.y*f*g,h=e.value.filter(p=>p.draggable||a&&typeof p.draggable>"u").map(p=>{const b={x:p.computedPosition.x+v,y:p.computedPosition.y+k},{computedPosition:m}=Yn(p,b,u.error,t.value,p.parentNode?o(p.parentNode):void 0);return{id:p.id,position:m,from:p.position,distance:{x:s.x,y:s.y},dimensions:p.dimensions}});n(h,!0,!1)}}const gn=.1;function Pe(){return Promise.resolve(!1)}const $c={zoomIn:Pe,zoomOut:Pe,zoomTo:Pe,fitView:Pe,setCenter:Pe,fitBounds:Pe,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Pe,setTransform:Pe,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),initialized:!1};function or(e,t){const n=e,o=l.toRef(n,"vueFlowRef"),i=l.toRef(n,"nodes"),r=l.toRef(n,"d3Zoom"),a=l.toRef(n,"d3Selection"),u=l.toRef(n,"dimensions"),s=l.toRef(n,"translateExtent"),c=l.toRef(n,"minZoom"),d=l.toRef(n,"maxZoom"),f=l.toRef(n,"viewport"),g=l.toRef(n,"snapToGrid"),v=l.toRef(n,"snapGrid"),{getNodes:k}=t,h=l.ref(!1);Ae(()=>!!r.value&&!!a.value&&!!u.value.width&&!!u.value.height).toBe(!0).then(()=>{h.value=!0});function p(m,E){return new Promise(x=>{a.value&&r.value?r.value.scaleBy(pn(a.value,E,()=>{x(!0)}),m):x(!1)})}function b(m,E,x,M){return new Promise(w=>{const{x:A,y:V}=$i({x:-m,y:-E},s.value),H=et.translate(-A,-V).scale(x);a.value&&r.value?r.value.transform(pn(a.value,M,()=>{w(!0)}),H):w(!1)})}return l.computed(()=>h.value?{initialized:!0,zoomIn:m=>p(1.2,m==null?void 0:m.duration),zoomOut:m=>p(1/1.2,m==null?void 0:m.duration),zoomTo:(m,E)=>new Promise(x=>{a.value&&r.value?r.value.scaleTo(pn(a.value,E==null?void 0:E.duration,()=>{x(!0)}),m):x(!1)}),setViewport:(m,E)=>b(m.x,m.y,m.zoom,E==null?void 0:E.duration),setTransform:(m,E)=>b(m.x,m.y,m.zoom,E==null?void 0:E.duration),getViewport:()=>({x:f.value.x,y:f.value.y,zoom:f.value.zoom}),getTransform:()=>({x:f.value.x,y:f.value.y,zoom:f.value.zoom}),fitView:(m={padding:gn,includeHiddenNodes:!1,duration:0})=>{const E=(m.includeHiddenNodes?i.value:k.value).filter(V=>{var Z;const H=V.initialized&&V.dimensions.width&&V.dimensions.height;let O=!0;return(Z=m.nodes)!=null&&Z.length&&(O=m.nodes.includes(V.id)),H&&O});if(!E.length)return Promise.resolve(!1);const x=Fn(E),{x:M,y:w,zoom:A}=Cn(x,u.value.width,u.value.height,m.minZoom??c.value,m.maxZoom??d.value,m.padding??gn,m.offset);return b(M,w,A,m==null?void 0:m.duration)},setCenter:(m,E,x)=>{const M=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:d.value,w=u.value.width/2-m*M,A=u.value.height/2-E*M;return b(w,A,M,x==null?void 0:x.duration)},fitBounds:(m,E={padding:gn})=>{const{x,y:M,zoom:w}=Cn(m,u.value.width,u.value.height,c.value,d.value,E.padding);return b(x,M,w,E==null?void 0:E.duration)},project:m=>Lt(m,f.value,g.value,v.value),screenToFlowCoordinate:m=>{if(o.value){const{x:E,y:x}=o.value.getBoundingClientRect(),M={x:m.x-E,y:m.y-x};return Lt(M,f.value,g.value,v.value)}return{x:0,y:0}},flowToScreenCoordinate:m=>{if(o.value){const{x:E,y:x}=o.value.getBoundingClientRect(),M={x:m.x+E,y:m.y+x};return Jt(M,f.value)}return{x:0,y:0}}}:$c)}function pn(e,t=0,n){return e.transition().duration(t).on("end",n)}function Tc(e,t,n){const o=l.effectScope();return o.run(()=>{const i=()=>{o.run(()=>{let h,p,b=!!(n.nodes.value.length||n.edges.value.length);h=Ze([e.modelValue,()=>{var m,E;return(E=(m=e.modelValue)==null?void 0:m.value)==null?void 0:E.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setElements(m),!p&&!b&&m.length?b=!0:p==null||p.resume())}),p=Ze([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([m,E])=>{var x;(x=e.modelValue)!=null&&x.value&&Array.isArray(e.modelValue.value)&&(h==null||h.pause(),e.modelValue.value=[...m,...E],l.nextTick(()=>{h==null||h.resume()}))},{immediate:b}),l.onScopeDispose(()=>{h==null||h.stop(),p==null||p.stop()})})},r=()=>{o.run(()=>{let h,p,b=!!n.nodes.value.length;h=Ze([e.nodes,()=>{var m,E;return(E=(m=e.nodes)==null?void 0:m.value)==null?void 0:E.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setNodes(m),!p&&!b&&m.length?b=!0:p==null||p.resume())}),p=Ze([n.nodes,()=>n.nodes.value.length],([m])=>{var E;(E=e.nodes)!=null&&E.value&&Array.isArray(e.nodes.value)&&(h==null||h.pause(),e.nodes.value=[...m],l.nextTick(()=>{h==null||h.resume()}))},{immediate:b}),l.onScopeDispose(()=>{h==null||h.stop(),p==null||p.stop()})})},a=()=>{o.run(()=>{let h,p,b=!!n.edges.value.length;h=Ze([e.edges,()=>{var m,E;return(E=(m=e.edges)==null?void 0:m.value)==null?void 0:E.length}],([m])=>{m&&Array.isArray(m)&&(p==null||p.pause(),n.setEdges(m),!p&&!b&&m.length?b=!0:p==null||p.resume())}),p=Ze([n.edges,()=>n.edges.value.length],([m])=>{var E;(E=e.edges)!=null&&E.value&&Array.isArray(e.edges.value)&&(h==null||h.pause(),e.edges.value=[...m],l.nextTick(()=>{h==null||h.resume()}))},{immediate:b}),l.onScopeDispose(()=>{h==null||h.stop(),p==null||p.stop()})})},u=()=>{o.run(()=>{l.watch(()=>t.maxZoom,()=>{t.maxZoom&&ue(t.maxZoom)&&n.setMaxZoom(t.maxZoom)})})},s=()=>{o.run(()=>{l.watch(()=>t.minZoom,()=>{t.minZoom&&ue(t.minZoom)&&n.setMinZoom(t.minZoom)})})},c=()=>{o.run(()=>{l.watch(()=>t.translateExtent,()=>{t.translateExtent&&ue(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)})})},d=()=>{o.run(()=>{l.watch(()=>t.nodeExtent,()=>{t.nodeExtent&&ue(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)})})},f=()=>{o.run(()=>{l.watch(()=>t.applyDefault,()=>{ue(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)})})},g=()=>{o.run(()=>{const h=async p=>{let b=p;tt(t.autoConnect)&&(b=await t.autoConnect(p)),b!==!1&&n.addEdges([b])};l.watch(()=>t.autoConnect,()=>{ue(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)}),l.watch(n.autoConnect,(p,b,m)=>{p?n.onConnect(h):n.hooks.value.connect.off(h),m(()=>{n.hooks.value.connect.off(h)})},{immediate:!0})})},v=()=>{const h=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];Object.keys(t).forEach(p=>{if(!h.includes(p)){const b=Pt(t,p),m=n[p];o.run(()=>{l.watch(b,E=>{ue(E)&&(m.value=E)},{flush:"pre"})})}})};(()=>{i(),r(),a(),s(),u(),c(),d(),f(),g(),v()})()}),()=>o.stop()}function Bc(e){const t=ce({id:e}),n=or(t.value,t.value);return{fitView:o=>n.value.fitView(o),zoomIn:o=>n.value.zoomIn(o),zoomOut:o=>n.value.zoomOut(o),zoomTo:(o,i)=>n.value.zoomTo(o,i),setViewport:(o,i)=>n.value.setViewport(o,i),setTransform:(o,i)=>n.value.setTransform(o,i),getViewport:()=>n.value.getViewport(),getTransform:()=>n.value.getTransform(),setCenter:(o,i,r)=>n.value.setCenter(o,i,r),fitBounds:(o,i)=>n.value.fitBounds(o,i),project:o=>n.value.project(o)}}function Uo(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const Pc={name:"Pane",compatConfig:{MODE:3}},Ic=l.defineComponent({...Pc,props:{isSelecting:{type:Boolean}},setup(e){const{id:t,vueFlowRef:n,getNodes:o,getEdges:i,viewport:r,emits:a,userSelectionActive:u,removeSelectedElements:s,panOnDrag:c,userSelectionRect:d,elementsSelectable:f,nodesSelectionActive:g,addSelectedElements:v,getSelectedEdges:k,getSelectedNodes:h,removeNodes:p,removeEdges:b,selectionMode:m,deleteKeyCode:E,multiSelectionKeyCode:x,multiSelectionActive:M}=ce(),w=l.ref(null),A=l.ref(0),V=l.ref(0),H=l.ref(),O=l.computed(()=>f.value&&(e.isSelecting||u.value));at(E,P=>{if(!P)return;const U=o.value.reduce((K,L)=>((!L.selected&&L.parentNode&&K.find(j=>j.id===L.parentNode)||L.selected)&&K.push(L),K),[]);(U||k.value)&&(k.value.length>0&&b(k.value),U.length>0&&p(U),g.value=!1,s())}),at(x,P=>{M.value=P});function Z(){u.value=!1,d.value=null,A.value=0,V.value=0}function ee(P){P.target!==w.value||O.value||(a.paneClick(P),s(),g.value=!1)}function X(P){var U;if(P.target===w.value){if(Array.isArray(c.value)&&((U=c.value)!=null&&U.includes(2))){P.preventDefault();return}a.paneContextMenu(P)}}function y(P){P.target===w.value&&a.paneScroll(P)}function $(P){if(H.value=n.value.getBoundingClientRect(),!O.value||!f||!e.isSelecting||P.button!==0||P.target!==w.value||!H.value)return;const{x:U,y:K}=Uo(P,H.value);s(),d.value={width:0,height:0,startX:U,startY:K,x:U,y:K},u.value=!0,a.selectionStart(P)}function S(P){if(!O.value)return a.paneMouseMove(P);if(!e.isSelecting||!H.value||!d.value)return;u.value||(u.value=!0),g.value&&(g.value=!1);const U=Uo(P,H.value),K=d.value.startX??0,L=d.value.startY??0,j={...d.value,x:U.x<K?U.x:K,y:U.y<L?U.y:L,width:Math.abs(U.x-K),height:Math.abs(U.y-L)},T=Gn(o.value,d.value,r.value,m.value===qt.Partial),te=xt(T,i.value);A.value=T.length,V.value=te.length,d.value=j,v([...T,...te])}function I(P){O.value&&P.button===0&&(!u.value&&d.value&&P.target===w.value&&ee(P),g.value=A.value>0,Z(),a.selectionEnd(P))}function D(P){var U;if(!O.value)return a.paneMouseLeave(P);u.value&&(g.value=A.value>0,(U=a.selectionEnd)==null||U.call(a,P)),Z()}function G(P){O.value||a.paneMouseEnter(P)}return(P,U)=>(l.openBlock(),l.createElementBlock("div",{ref_key:"container",ref:w,key:`pane-${l.unref(t)}`,class:l.normalizeClass(["vue-flow__pane vue-flow__container",{selection:e.isSelecting}]),onClick:ee,onContextmenu:X,onWheelPassive:y,onMouseenter:G,onMousedown:$,onMousemove:S,onMouseup:I,onMouseleave:D},[l.renderSlot(P.$slots,"default"),l.unref(u)&&l.unref(d)?(l.openBlock(),l.createBlock(yc,{key:0,"user-selection-rect":l.unref(d)},null,8,["user-selection-rect"])):l.createCommentVNode("",!0),l.unref(g)&&l.unref(h).length?(l.openBlock(),l.createBlock(mc,{key:1})):l.createCommentVNode("",!0)],34))}}),Oc={class:"vue-flow__nodes vue-flow__container"},Ac={name:"Nodes",compatConfig:{MODE:3}},Dc=l.defineComponent({...Ac,setup(e){const t=l.inject(nn),{nodesDraggable:n,nodesFocusable:o,elementsSelectable:i,nodesConnectable:r,getNodes:a,getNodesInitialized:u,areNodesInitialized:s,getNodeTypes:c,updateNodeDimensions:d,emits:f}=ce(),g=l.ref(),v=l.getCurrentInstance();Ae(()=>s.value).toBe(!0).then(()=>{l.nextTick(()=>{f.nodesInitialized(u.value)})}),l.onMounted(()=>{g.value=new ResizeObserver(E=>{const x=E.map(M=>({id:M.target.getAttribute("data-id"),nodeElement:M.target,forceUpdate:!0}));l.nextTick(()=>d(x))})}),l.onBeforeUnmount(()=>{var E;return(E=g.value)==null?void 0:E.disconnect()});function k(E){return typeof E>"u"?n.value:E}function h(E){return typeof E>"u"?i.value:E}function p(E){return typeof E>"u"?r.value:E}function b(E){return typeof E>"u"?o.value:E}function m(E,x){const M=E||"default",w=t==null?void 0:t[`node-${M}`];if(w)return w;let A=x??c.value[M];if(typeof A=="string"&&v){const V=Object.keys(v.appContext.components);V&&V.includes(M)&&(A=l.resolveComponent(M,!1))}return A&&typeof A!="string"?A:(f.error(new ge(fe.NODE_TYPE_MISSING,A)),!1)}return(E,x)=>(l.openBlock(),l.createElementBlock("div",Oc,[g.value?(l.openBlock(!0),l.createElementBlock(l.Fragment,{key:0},l.renderList(l.unref(a),M=>(l.openBlock(),l.createBlock(l.unref(Fs),{id:M.id,key:M.id,"resize-observer":g.value,type:m(M.type,M.template),name:M.type||"default",draggable:k(M.draggable),selectable:h(M.selectable),connectable:p(M.connectable),focusable:b(M.focusable),node:M},null,8,["id","resize-observer","type","name","draggable","selectable","connectable","focusable","node"]))),128)):l.createCommentVNode("",!0)]))}}),zc=["id","markerWidth","markerHeight","markerUnits","orient"],Rc={name:"MarkerType",compatConfig:{MODE:3}},Vc=l.defineComponent({...Rc,props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(l.openBlock(),l.createElementBlock("marker",{id:e.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${e.width}`,markerHeight:`${e.height}`,markerUnits:e.markerUnits,orient:e.orient},[e.type===l.unref(Ht).ArrowClosed?(l.openBlock(),l.createElementBlock("polyline",{key:0,style:l.normalizeStyle({stroke:e.color,fill:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):l.createCommentVNode("",!0),e.type===l.unref(Ht).Arrow?(l.openBlock(),l.createElementBlock("polyline",{key:1,style:l.normalizeStyle({stroke:e.color,strokeWidth:e.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):l.createCommentVNode("",!0)],8,zc))}}),Hc={name:"MarkerDefinitions",compatConfig:{MODE:3}},Lc=l.defineComponent({...Hc,setup(e){const t=ce(),n=l.toRef(t,"id"),o=l.toRef(t,"edges"),i=l.toRef(t,"connectionLineOptions"),r=l.toRef(t,"defaultMarkerColor"),a=l.computed(()=>{const u=[],s=[],c=d=>{if(d){const f=Oe(d,n.value);u.includes(f)||(typeof d=="object"?s.push({...d,id:f,color:d.color||r.value}):s.push({id:f,color:r.value,type:d}),u.push(f))}};return[i.value.markerEnd,i.value.markerStart].forEach(c),o.value.reduce((d,f)=>([f.markerStart,f.markerEnd].forEach(c),d.sort((g,v)=>g.id.localeCompare(v.id))),s),s});return(u,s)=>(l.openBlock(),l.createElementBlock("defs",null,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(a),c=>(l.openBlock(),l.createBlock(Vc,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,"stroke-width":c.strokeWidth,orient:c.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}}),Fc={class:"vue-flow__edges vue-flow__container"},Gc={name:"Edges",compatConfig:{MODE:3}},Yc=l.defineComponent({...Gc,setup(e){const t=l.inject(nn),{edgesUpdatable:n,edgesFocusable:o,elementsSelectable:i,findNode:r,getEdges:a,getEdgeTypes:u,elevateEdgesOnSelect:s,dimensions:c,emits:d}=ce(),f=l.getCurrentInstance();function g(p){return typeof p>"u"?i.value:p}function v(p){return typeof p>"u"?n.value:p}function k(p){return typeof p>"u"?o.value:p}function h(p,b){const m=p||"default",E=t==null?void 0:t[`edge-${m}`];if(E)return E;let x=b??u.value[m];if(typeof x=="string"&&f){const M=Object.keys(f.appContext.components);M&&M.includes(m)&&(x=l.resolveComponent(m,!1))}return x&&typeof x!="string"?x:(d.error(new ge(fe.EDGE_TYPE_MISSING,x)),!1)}return(p,b)=>l.unref(c).width&&l.unref(c).height?(l.openBlock(),l.createElementBlock(l.Fragment,{key:0},[(l.openBlock(),l.createElementBlock("svg",Fc,[l.createVNode(Lc)])),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(a),m=>(l.openBlock(),l.createElementBlock("svg",{key:m.id,class:"vue-flow__edges vue-flow__container",style:l.normalizeStyle({zIndex:l.unref(Cs)(m,l.unref(r),l.unref(s))})},[l.createVNode(l.unref(ac),{id:m.id,edge:m,type:h(m.type,m.template),name:m.type||"default",selectable:g(m.selectable),updatable:v(m.updatable),focusable:k(m.focusable)},null,8,["id","edge","type","name","selectable","updatable","focusable"])],4))),128)),l.createVNode(l.unref(hc))],64)):l.createCommentVNode("",!0)}}),Xc=l.createElementVNode("div",{class:"vue-flow__edge-labels"},null,-1),Uc={name:"Transform",compatConfig:{MODE:3}},Zc=l.defineComponent({...Uc,setup(e){const{id:t,viewport:n,d3Zoom:o,d3Selection:i,dimensions:r}=ce(),a=l.ref(!Zo);return Ae(()=>o.value&&i.value&&r.value.width>0&&r.value.height>0).toBe(!0).then(()=>{setTimeout(()=>{a.value=!0},1)}),(u,s)=>(l.openBlock(),l.createElementBlock("div",{key:`transform-${l.unref(t)}`,class:"vue-flow__transformationpane vue-flow__container",style:l.normalizeStyle({transform:`translate(${l.unref(n).x}px,${l.unref(n).y}px) scale(${l.unref(n).zoom})`,opacity:a.value?void 0:0})},[l.createVNode(Yc),Xc,l.createVNode(Dc),l.renderSlot(u.$slots,"default")],4))}}),Wc={name:"Viewport",compatConfig:{MODE:3}},qc=l.defineComponent({...Wc,setup(e){const{id:t,minZoom:n,maxZoom:o,defaultViewport:i,translateExtent:r,dimensions:a,zoomActivationKeyCode:u,selectionKeyCode:s,panActivationKeyCode:c,panOnScroll:d,panOnScrollMode:f,panOnScrollSpeed:g,panOnDrag:v,zoomOnDoubleClick:k,zoomOnPinch:h,zoomOnScroll:p,preventScrolling:b,noWheelClassName:m,noPanClassName:E,emits:x,connectionStartHandle:M,userSelectionActive:w,paneDragging:A,d3Zoom:V,d3Selection:H,d3ZoomHandler:O,viewport:Z,viewportRef:ee}=ce(),X=l.ref(),y=l.ref(!1),$=l.ref(!1),S=l.ref(!1),I=l.ref();let D=!1,G=0,P={x:0,y:0,zoom:0};const U=at(c),K=l.computed(()=>!y.value&&v.value&&U.value),L=l.computed(()=>s.value!==!0&&y.value||s.value===!0&&!K.value);l.onMounted(()=>{Ir(X,oe);const Y=to();In(Y,"resize",oe)}),l.onMounted(()=>{const Y=X.value,ie=Y.getBoundingClientRect(),se=ds().scaleExtent([n.value,o.value]).translateExtent(r.value),de=xe(Y).call(se),he=de.on("wheel.zoom"),Be=et.translate(i.value.x??0,i.value.y??0).scale(Re(i.value.zoom??1,n.value,o.value)),_=[[0,0],[ie.width,ie.height]],C=se.constrain()(Be,_,r.value);se.transform(de,C),se.wheelDelta(T),V.value=se,H.value=de,O.value=he,Z.value={x:C.x,y:C.y,zoom:C.k},ee.value=Y,at(s,N=>{y.value=N});const F=at(u);l.watchEffect(()=>{y.value&&w.value&&!$.value?se.on("zoom",null):!y.value&&!w.value&&se.on("zoom",N=>{Z.value={x:N.transform.x,y:N.transform.y,zoom:N.transform.k};const B=Q(N.transform);D=j(v.value,G??0),x.viewportChange(B),x.move({event:N,flowTransform:B})})}),se.on("start",N=>{var z;if(!N.sourceEvent)return null;G=N.sourceEvent.button,$.value=!0;const B=Q(N.transform);((z=N.sourceEvent)==null?void 0:z.type)==="mousedown"&&(A.value=!0),P=B,x.viewportChangeStart(B),x.moveStart({event:N,flowTransform:B})}),se.on("end",N=>{if(!N.sourceEvent)return null;if($.value=!1,A.value=!1,j(v.value,G??0)&&!D&&x.paneContextMenu(N.sourceEvent),D=!1,te(P,N.transform)){const B=Q(N.transform);P=B,x.viewportChangeEnd(B),x.moveEnd({event:N,flowTransform:B})}}),l.watchEffect(()=>{d.value&&!F.value&&!w.value?de.on("wheel.zoom",N=>{if(ne(N,m.value))return!1;N.preventDefault(),N.stopImmediatePropagation();const B=de.property("__zoom").k||1,z=Gt();if(N.ctrlKey&&h&&z){const pe=Ee(N),Ve=T(N),ir=B*2**Ve;se.scaleTo(de,ir,pe,N);return}const W=N.deltaMode===1?20:1;let re=f.value===Ke.Vertical?0:N.deltaX*W,J=f.value===Ke.Horizontal?0:N.deltaY*W;!z&&N.shiftKey&&f.value!==Ke.Vertical&&!re&&J&&(re=J,J=0),se.translateBy(de,-(re/B)*g.value,-(J/B)*g.value);const ae=Q(de.property("__zoom"));clearTimeout(I.value),S.value||(S.value=!0,x.moveStart({event:N,flowTransform:ae}),x.viewportChangeStart(ae)),S.value&&(x.move({event:N,flowTransform:ae}),x.viewportChange(ae),I.value=setTimeout(()=>{x.moveEnd({event:N,flowTransform:ae}),x.viewportChangeEnd(ae),S.value=!1},150))},{passive:!1}):typeof he<"u"&&de.on("wheel.zoom",function(N,B){if(!b.value||ne(N,m.value))return null;N.preventDefault(),he.call(this,N,B)},{passive:!1})}),se.filter(N=>{var re,J;const B=F.value||p.value,z=h.value&&N.ctrlKey;if((v.value===!0||Array.isArray(v.value)&&v.value.includes(1))&&N.button===1&&N.type==="mousedown"&&((re=N.target)!=null&&re.closest(".vue-flow__node")||(J=N.target)!=null&&J.closest(".vue-flow__edge")))return!0;if(!v.value&&!B&&!d.value&&!k.value&&!h.value||w.value||!k.value&&N.type==="dblclick"||ne(N,m.value)&&N.type==="wheel"||ne(N,E.value)&&(!d.value&&N.type!=="wheel"||d.value&&N.type==="wheel")||!h.value&&N.ctrlKey&&N.type==="wheel"||!B&&!d.value&&!z&&N.type==="wheel"||!v.value&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(v.value)&&!v.value.includes(N.button)&&(N.type==="mousedown"||N.type==="touchstart"))return!1;const W=Array.isArray(v.value)&&v.value.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&W})});function j(Y,ie){return ie===2&&Array.isArray(Y)&&Y.includes(2)}function T(Y){const ie=Y.ctrlKey&&Gt()?10:1;return-Y.deltaY*(Y.deltaMode===1?.05:Y.deltaMode?1:.002)*ie}function te(Y,ie){return Y.x!==ie.x&&!isNaN(ie.x)||Y.y!==ie.y&&!isNaN(ie.y)||Y.zoom!==ie.k&&!isNaN(ie.k)}function Q(Y){return{x:Y.x,y:Y.y,zoom:Y.k}}function oe(){if(!X.value)return;const{width:Y,height:ie}=Kt(X.value);(Y===0||ie===0)&&x.error(new ge(fe.MISSING_VIEWPORT_DIMENSIONS)),a.value.width=Y||500,a.value.height=ie||500}function ne(Y,ie){return Y.target.closest(`.${ie}`)}return(Y,ie)=>(l.openBlock(),l.createElementBlock(l.Fragment,null,[(l.openBlock(),l.createElementBlock("div",{ref_key:"viewportEl",ref:X,key:`viewport-${l.unref(t)}`,class:"vue-flow__viewport vue-flow__container"},[l.createVNode(Ic,{"is-selecting":l.unref(L),class:l.normalizeClass({connecting:!!l.unref(M),dragging:l.unref(A),draggable:!!l.unref(v)})},{default:l.withCtx(()=>[l.createVNode(Zc,null,{default:l.withCtx(()=>[l.renderSlot(Y.$slots,"zoom-pane")]),_:3})]),_:3},8,["is-selecting","class"])])),l.renderSlot(Y.$slots,"default")],64))}}),Kc=["id"],jc=["id"],Jc=["id"],Qc={name:"A11yDescriptions",compatConfig:{MODE:3}},ed=l.defineComponent({...Qc,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=ce(),i={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"};return(r,a)=>(l.openBlock(),l.createElementBlock(l.Fragment,null,[l.createElementVNode("div",{id:`${l.unref(ki)}-${l.unref(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+l.toDisplayString(l.unref(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Kc),l.createElementVNode("div",{id:`${l.unref(Ci)}-${l.unref(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,jc),l.unref(n)?l.createCommentVNode("",!0):(l.openBlock(),l.createElementBlock("div",{key:0,id:`${l.unref(fs)}-${l.unref(t)}`,"aria-live":"assertive","aria-atomic":"true",style:i},l.toDisplayString(l.unref(o)),9,Jc))],64))}}),td={name:"VueFlow",compatConfig:{MODE:3}},nd=l.defineComponent({...td,props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:null,isValidConnection:{type:Function,default:void 0},deleteKeyCode:{type:[Boolean,String,Function],default:void 0},selectionKeyCode:{type:[Boolean,String,Function],default:void 0},multiSelectionKeyCode:{type:[Boolean,String,Function],default:void 0},zoomActivationKeyCode:{type:[Boolean,String,Function],default:void 0},panActivationKeyCode:{type:[Boolean,String,Function],default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:null,elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultViewport:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:null,edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null,elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},__experimentalFeatures:null},emits:["nodesChange","edgesChange","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneReady","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","updateNodeInternals","error","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=lt(o,"modelValue",n),r=lt(o,"nodes",n),a=lt(o,"edges",n),{vueFlowRef:u,hooks:s,getNodeTypes:c,getEdgeTypes:d,...f}=ce(o),g=Tc({modelValue:i,nodes:r,edges:a},o,{vueFlowRef:u,hooks:s,getNodeTypes:c,getEdgeTypes:d,...f});As(n,s);const v=l.ref();return l.provide(nn,l.useSlots()),l.onUnmounted(()=>{g()}),l.onMounted(()=>{u.value=v.value}),t({vueFlowRef:u,hooks:s,getNodeTypes:c,getEdgeTypes:d,...f}),(k,h)=>(l.openBlock(),l.createElementBlock("div",{ref_key:"el",ref:v,class:"vue-flow"},[l.createVNode(qc,null,{nodes:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(Object.keys(l.unref(c)),p=>l.renderSlot(k.$slots,`node-${p}`)),256))]),edges:l.withCtx(()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(Object.keys(l.unref(d)),p=>l.renderSlot(k.$slots,`edge-${p}`)),256))]),"connection-name":l.withCtx(()=>[l.renderSlot(k.$slots,"connection-line")]),"zoom-pane":l.withCtx(()=>[l.renderSlot(k.$slots,"zoom-pane")]),default:l.withCtx(()=>[l.renderSlot(k.$slots,"default")]),_:3}),l.createVNode(ed)],512))}}),od={name:"Panel",compatConfig:{MODE:3}},id=l.defineComponent({...od,props:{position:null},setup(e){const t=e,{userSelectionActive:n}=ce(),o=l.computed(()=>`${t.position}`.split("-"));return(i,r)=>(l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(["vue-flow__panel",l.unref(o)]),style:l.normalizeStyle({pointerEvents:l.unref(n)?"none":"all"})},[l.renderSlot(i.$slots,"default")],6))}});exports.BaseEdge=wt;exports.BezierEdge=Zi;exports.ConnectionLineType=Le;exports.ConnectionMode=ze;exports.EdgeLabelRenderer=cc;exports.EdgeText=Xi;exports.ErrorCode=fe;exports.GlobalVueFlowStorage=Ge;exports.Handle=pt;exports.MarkerType=Ht;exports.NodeIdInjection=Zn;exports.PanOnScrollMode=Ke;exports.Panel=id;exports.PanelPosition=Ni;exports.Position=q;exports.SelectionMode=qt;exports.SimpleBezierEdge=Wi;exports.SmoothStepEdge=Jn;exports.StepEdge=qi;exports.StraightEdge=Ki;exports.VueFlow=nd;exports.VueFlowError=ge;exports.VueFlowInjection=Tn;exports.addEdge=ps;exports.applyChanges=ht;exports.applyEdgeChanges=xs;exports.applyNodeChanges=ws;exports.clamp=Re;exports.connectionExists=Ln;exports.defaultEdgeTypes=Ji;exports.defaultNodeTypes=ji;exports.getBezierEdgeCenter=qn;exports.getBezierPath=Kn;exports.getBoundsofRects=vs;exports.getConnectedEdges=xt;exports.getIncomers=Ii;exports.getMarkerId=Oe;exports.getNodesInside=Gn;exports.getOutgoers=Pi;exports.getRectOfNodes=Fn;exports.getSimpleBezierPath=jn;exports.getSimpleEdgeCenter=Wn;exports.getSmoothStepPath=Yt;exports.getStraightPath=Ui;exports.getTransformForBounds=Cn;exports.graphPosToZoomedPos=Jt;exports.isEdge=_e;exports.isGraphEdge=Ti;exports.isGraphNode=Fe;exports.isNode=De;exports.pointToRendererPoint=Lt;exports.rendererPointToPoint=Jt;exports.updateEdge=ms;exports.useEdge=bc;exports.useGetPointerPosition=er;exports.useHandle=eo;exports.useNode=tr;exports.useVueFlow=ce;exports.useZoomPanHelper=Bc;
